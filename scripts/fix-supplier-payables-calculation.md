# ๐ง ุฅุตูุงุญ ุญุณุงุจ ุฐูู ุงูููุฑุฏูู

## ุงููุดููุฉ ุงูููุชุดูุฉ

ูู ุตูุญุฉ ุงูููุฑุฏูู (`app/suppliers/page.tsx`)ุ ูุงู ูุชู ุญุณุงุจ ุงููุชุจูู ุจุดูู ุฎุงุทุฆ:

```typescript
// โ ุงูุฎุทุฃ ุงูุณุงุจู
const remaining = totalAmount - paidAmount - returnedAmount
```

### ุงูุณุจุจ:
- `total_amount` ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ูู ุงูุฅุฌูุงูู **ุงูุญุงูู** (ุจุนุฏ ุงููุฑุชุฌุนุงุช)
- `returned_amount` ูู ูุฌููุน ุงููุฑุชุฌุนุงุช
- ุนูุฏ ุทุฑุญ `returned_amount` ูุฑุฉ ุฃุฎุฑูุ ูุญุตู ุนูู ูููุฉ ุฎุงุทุฆุฉ

### ูุซุงู:
- ุงูุฅุฌูุงูู ุงูุฃุตูู: 130,000
- ุงููุฑุชุฌุน: 15,000
- `total_amount` (ุจุนุฏ ุงููุฑุชุฌุน): 115,000 โ
- `returned_amount`: 15,000 โ
- `paid_amount`: 0 โ

**ุงูุญุณุงุจ ุงูุฎุงุทุฆ:**
```
remaining = 115,000 - 0 - 15,000 = 100,000 โ
```

**ุงูุญุณุงุจ ุงูุตุญูุญ:**
```
remaining = 115,000 - 0 = 115,000 โ
```

## ุงูุญู

ุชู ุชุตุญูุญ ุงูุญุณุงุจ ูู `app/suppliers/page.tsx`:

```typescript
// โ ุงูุญุณุงุจ ุงูุตุญูุญ
const remaining = totalAmount - paidAmount
```

## ุงูุชุญูู ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช

ุชู ุฅูุดุงุก ุณูุฑุจุช `scripts/check-supplier-payables.js` ููุชุญูู ูู:
1. ููู `total_amount` ู `returned_amount` ู `paid_amount` ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
2. ุตุญุฉ ุญุณุงุจ ุงููุชุจูู
3. ููุงุฑูุฉ ุงููุชุจูู ุงููุญุณูุจ ูุน ุงููุชุจูู ุงูุตุญูุญ

## ููุน ุงูุชูุฑุงุฑ ูู ุงููุณุชูุจู

1. **ูู ุตูุญุฉ ุงูููุฑุฏูู:**
   - ุงุณุชุฎุฏุงู `total_amount - paid_amount` ููุท
   - ูุง ูุทุฑุญ `returned_amount` ูุฃู `total_amount` ูู ุจุงููุนู ุงูุฅุฌูุงูู ุจุนุฏ ุงููุฑุชุฌุนุงุช

2. **ุนูุฏ ุชุญุฏูุซ ุงููุงุชูุฑุฉ ุจุนุฏ ุงููุฑุชุฌุน:**
   - `total_amount` = ุงูุฅุฌูุงูู ุงูุฃุตูู - ูุฌููุน ุงููุฑุชุฌุนุงุช
   - `returned_amount` = ูุฌููุน ุฌููุน ุงููุฑุชุฌุนุงุช
   - `paid_amount` <= `total_amount` ุฏุงุฆูุงู

3. **ุงูุชุญูู ูู ุตุญุฉ ุงูุญุณุงุจ:**
   - ุงูุฅุฌูุงูู ุงูุฃุตูู = `total_amount + returned_amount`
   - ุงููุชุจูู = `total_amount - paid_amount`
   - ุงููุชุจูู ุงูุตุญูุญ = `(total_amount + returned_amount) - paid_amount - returned_amount = total_amount - paid_amount`

## ููุงุญุธุงุช ูููุฉ

- `total_amount` ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ูู **ุงูุฅุฌูุงูู ุงูุญุงูู** (ุจุนุฏ ุงููุฑุชุฌุนุงุช)
- `returned_amount` ูู **ูุฌููุน ุฌููุน ุงููุฑุชุฌุนุงุช**
- ุนูุฏ ุญุณุงุจ ุงููุชุจููุ ูุณุชุฎุฏู `total_amount - paid_amount` ููุท
- ูุง ูุทุฑุญ `returned_amount` ูุฑุฉ ุฃุฎุฑู ูุฃู `total_amount` ุชู ุชุญุฏูุซู ุจุงููุนู

