# ๐ Expenses Module - Quick Start Guide

## โก ุชุซุจูุช ุณุฑูุน (5 ุฏูุงุฆู)

### ุงูุฎุทูุฉ 1: ุชุดุบูู ุงูุณูุฑูุจุชุงุช ูู Supabase

ุงูุชุญ **Supabase SQL Editor** ููู ุจุชุดุบูู ุงูุณูุฑูุจุชุงุช ุจุงูุชุฑุชูุจ ุงูุชุงูู:

#### 1๏ธโฃ ุฅูุดุงุก ุฌุฏูู ุงููุตุฑููุงุช
```sql
-- ุงูุณุฎ ูุงูุตู ูุญุชูู ุงูููู ุงูุชุงูู:
scripts/500_expenses_module.sql
```

#### 2๏ธโฃ ุชุทุจูู ุณูุงุณุงุช ุงูุฃูุงู (RLS)
```sql
-- ุงูุณุฎ ูุงูุตู ูุญุชูู ุงูููู ุงูุชุงูู:
scripts/501_expenses_rls_policies.sql
```

#### 3๏ธโฃ ุฅุถุงูุฉ ุงูุตูุงุญูุงุช
```sql
-- ุงูุณุฎ ูุงูุตู ูุญุชูู ุงูููู ุงูุชุงูู:
scripts/502_expenses_permissions.sql
```

#### 4๏ธโฃ ุงุฎุชุจุงุฑ ุงูุชุซุจูุช (ุงุฎุชูุงุฑู)
```sql
-- ุงูุณุฎ ูุงูุตู ูุญุชูู ุงูููู ุงูุชุงูู:
scripts/503_test_expenses_module.sql
```

---

### ุงูุฎุทูุฉ 2: ุงููุตูู ูููุญุฏุฉ

ุจุนุฏ ุชุดุบูู ุงูุณูุฑูุจุชุงุชุ ุงูุชุญ ุงููุชุตูุญ:

```
http://localhost:3000/expenses
```

---

## โ ุงูุชุญูู ุงูุณุฑูุน

### ุชุญูู ูู ุฅูุดุงุก ุงูุฌุฏูู:
```sql
SELECT table_name FROM information_schema.tables 
WHERE table_name = 'expenses';
```
**ุงููุชูุฌุฉ ุงููุชููุนุฉ**: ูุฌุจ ุฃู ูุธูุฑ `expenses`

### ุชุญูู ูู ุงูุตูุงุญูุงุช:
```sql
SELECT r.role_name, p.can_read, p.can_write, p.can_approve
FROM company_role_permissions p
JOIN company_roles r ON r.id = p.role_id
WHERE p.resource = 'expenses'
LIMIT 5;
```
**ุงููุชูุฌุฉ ุงููุชููุนุฉ**: ูุฌุจ ุฃู ุชุธูุฑ ุตูุงุญูุงุช ูุฃุฏูุงุฑ ูุฎุชููุฉ

---

## ๐ฏ ุงูุงุณุชุฎุฏุงู ุงูุณุฑูุน

### 1. ุฅูุดุงุก ูุตุฑูู ุฌุฏูุฏ
1. ุงุฐูุจ ุฅูู `/expenses`
2. ุงููุฑ ุนูู **"ูุตุฑูู ุฌุฏูุฏ"**
3. ุงููุฃ ุงููููุฐุฌ:
   - **ุงูุชุงุฑูุฎ**: ุงูููู
   - **ุงููุตู**: "ูุตุฑูู ุชุฌุฑูุจู"
   - **ุงููุจูุบ**: 1000
   - **ุงูุชุตููู**: "ุฃุฎุฑู"
4. ุงููุฑ **"ุญูุธ"**

### 2. ุฅุฑุณุงู ููุงุนุชูุงุฏ
1. ุงูุชุญ ุงููุตุฑูู ุงูุฐู ุฃูุดุฃุชู
2. ุงููุฑ **"ุฅุฑุณุงู ููุงุนุชูุงุฏ"**
3. ุณูุชู ุฅุฑุณุงู ุฅุดุนุงุฑ ูููุฏูุฑ ุงูุนุงู ูุงููุงูู

### 3. ุงุนุชูุงุฏ ุงููุตุฑูู (Owner/GM ููุท)
1. ุณุฌู ุงูุฏุฎูู ูู Owner ุฃู General Manager
2. ุงูุชุญ ุงููุตุฑูู
3. ุงููุฑ **"ุงุนุชูุงุฏ"** ุฃู **"ุฑูุถ"**
4. ุฅุฐุง ุฑูุถุชุ ุฃุฏุฎู ุณุจุจ ุงูุฑูุถ

---

## ๐ง ุญู ุงููุดุงูู ุงูุณุฑูุน

### ุงููุดููุฉ: ูุง ุฃุฑู ุตูุญุฉ ุงููุตุฑููุงุช
**ุงูุญู**: ุชุญูู ูู ุงูุตูุงุญูุงุช:
```sql
SELECT role FROM company_members 
WHERE user_id = auth.uid();
```

### ุงููุดููุฉ: ูุง ุฃุณุชุทูุน ุฅูุดุงุก ูุตุฑูู
**ุงูุญู**: ุชุญูู ูู ุตูุงุญูุฉ ุงููุชุงุจุฉ:
```sql
SELECT p.can_write
FROM company_role_permissions p
JOIN company_roles r ON r.id = p.role_id
JOIN company_members m ON m.company_id = r.company_id
WHERE m.user_id = auth.uid()
AND p.resource = 'expenses';
```

### ุงููุดููุฉ: ุฎุทุฃ "relation expenses_id_seq does not exist"
**ุงูุญู**: ูุฐุง ุงูุฎุทุฃ ุชู ุฅุตูุงุญู ูู ุงููุณุฎุฉ ุงูุญุงููุฉ ูู `scripts/500_expenses_module.sql`. ูู ุจุชุดุบูู ุงูุณูุฑูุจุช ุงููุญุฏุซ.

---

## ๐ ุงูุตูุงุญูุงุช ุญุณุจ ุงูุฏูุฑ

| ุงูุฏูุฑ | ุฅูุดุงุก | ุชุนุฏูู | ุญุฐู | ุงุนุชูุงุฏ | ุนุฑุถ |
|------|------|------|------|--------|------|
| **Owner** | โ | โ | โ | โ | ุงููู |
| **General Manager** | โ | โ | โ | โ | ุงููู |
| **Accountant** | โ | โ* | โ | โ | ุงููุฑุน |
| **Branch Manager** | โ | โ* | โ | โ | ุงููุฑุน |
| **Viewer** | โ | โ | โ | โ | ุงููุฑุน |

*ูููู ุงูุชุนุฏูู ููุท ุฅุฐุง ูุงูุช ุงูุญุงูุฉ "ูุณูุฏุฉ" ุฃู "ูุฑููุถ"

---

## ๐ ุฏูุฑุฉ ุงูุนูู

```
ูุณูุฏุฉ โ ุฅุฑุณุงู ููุงุนุชูุงุฏ โ ุจุงูุชุธุงุฑ ุงูุงุนุชูุงุฏ
                                    โ
                          โโโโโโโโโโโดโโโโโโโโโโ
                          โ                   โ
                       ุงุนุชูุงุฏ              ุฑูุถ
                          โ                   โ
                       ูุนุชูุฏ              ูุฑููุถ
                                            โ
                                    ูููู ุงูุชุนุฏูู/ุงูุญุฐู
```

---

## ๐ ุงูุฏุนู

ูููุฒูุฏ ูู ุงููุนูููุงุชุ ุฑุงุฌุน:
- **ุงูุชูุซูู ุงููุงูู**: `app/expenses/README.md`
- **ุฏููู ุงูุชุซุจูุช**: `EXPENSES_MODULE_INSTALLATION.md`

---

## โ ุชู!

ุงูุขู ููููู ุงูุจุฏุก ูู ุงุณุชุฎุฏุงู ูุญุฏุฉ ุงููุตุฑููุงุช! ๐

