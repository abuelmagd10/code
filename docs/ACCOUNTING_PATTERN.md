# ๐ ERP Accounting & Inventory Core Logic
## (MANDATORY FINAL SPECIFICATION)

> **โ๏ธ ูุฐุง ุงููุณุชูุฏ ูู ุงููุฑุฌุน ุงููุญูุฏ ููููุท ุงููุญุงุณุจู ูุงููุฎุฒูู ุฏุงุฎู ุงููุธุงูุ ูุฃู ุชูููุฐ ูุฎุงููู ููุนุชุจุฑ ุฎุทุฃ ุฌุณูู.**

---

## ๐น ุฃููุงู: Sales Invoices (ููุงุชูุฑ ุงูุจูุน)

### 1๏ธโฃ Draft (ูุณูุฏุฉ)
| ุงูุนูุตุฑ | ุงูุญุงูุฉ |
|--------|--------|
| ููุฏ ูุญุงุณุจู | โ ูุง |
| ุญุฑูุฉ ูุฎุฒูู | โ ูุง |
| ุชุฌููุฒ ุจูุงูุงุช | โ๏ธ ูุนู |
| ูุงุจูุฉ ููุชุนุฏูู | โ๏ธ ูุนู |
| ุชุธูุฑ ูู ุงูุชูุงุฑูุฑ | โ ูุง |

### 2๏ธโฃ Sent / Confirmed (ูุฑุณูุฉ / ูููุฐุฉ)
| ุงูุนูุตุฑ | ุงูุญุงูุฉ |
|--------|--------|
| ุฎุตู ุงููุฎุฒูู (Stock Out) | โ๏ธ ููุฑู |
| ููุฏ ูุญุงุณุจู | โ ูุง |
| ุญุฑูุฉ ูุฎุฒููุฉ | โ๏ธ ุจุฏูู ุฃุซุฑ ูุงูู |
| ุชุนุฏูู ุงูุฃุตูุงู/ุงููููุงุช | โ ููููุน |

### 3๏ธโฃ Paid / Partially Paid (ูุฏููุนุฉ)
| ุงูุนูุตุฑ | ุงูุญุงูุฉ |
|--------|--------|
| ููุฏ ูุญุงุณุจู | โ๏ธ ูุนู (ุนูุฏ ุงูุฏูุน ููุท) |
| ุฎุตู ุงููุฎุฒูู | โ ููููุน (ุชู ูู Sent) |
| ุชุญุฏูุซ ุฐูู ุงูุนููู | โ๏ธ ูุนู |

### โ ููููุน ุชูุงูุงู ูู ููุงุชูุฑ ุงูุจูุน:
- ุฎุตู ุงููุฎุฒูู ุนูุฏ ุงูุฏูุน
- ุฅูุดุงุก ููุฏ ูุจู ุงูุฏูุน
- ุฑุจุท ุงููุฎุฒูู ุจุงูุณุฏุงุฏ

---

## ๐น ุซุงููุงู: Sales Returns (ูุฑุชุฌุนุงุช ููุงุชูุฑ ุงูุจูุน)

### ๐ ุดุฑูุท ุนุงูุฉ
- โ ูุง ูุฑุชุฌุนุงุช ุนูู Draft
- โ๏ธ ูุณููุญ ููุท ุนูู: Sent, Paid, Partially Paid

### ๐ ุงููุฑุชุฌุน ุนูู Sent (ูุฑุณูุฉ - ุบูุฑ ูุฏููุนุฉ)
| ุงูุนูุตุฑ | ุงูุญุงูุฉ |
|--------|--------|
| ุงุณุชุฑุฌุงุน ุงููุฎุฒูู | โ๏ธ ูุนู |
| ููุฏ ูุญุงุณุจู | โ ูุง |
| ุฑุตูุฏ ุนููู | โ ูุง |

### ๐ ุงููุฑุชุฌุน ุนูู Paid (ูุฏููุนุฉ ุจุงููุงูู)
| ุงูุนูุตุฑ | ุงูุญุงูุฉ |
|--------|--------|
| ุงุณุชุฑุฌุงุน ุงููุฎุฒูู | โ๏ธ ูุนู |
| ููุฏ ูุญุงุณุจู | โ๏ธ ูุนู |
| Customer Credit | โ๏ธ ูุนู |
| ุงูุณุฏุงุฏ | ูู ุตูุญุฉ ุงูุนููุงุก โ ุณูุฏ ุตุฑู |

### ๐ ุงููุฑุชุฌุน ุนูู Partially Paid (ูุฏููุนุฉ ุฌุฒุฆูุงู)
| ุงูุนูุตุฑ | ุงูุญุงูุฉ |
|--------|--------|
| ุงุณุชุฑุฌุงุน ุงููุฎุฒูู | โ๏ธ ูุนู |
| ููุฏ ูุญุงุณุจู | โ๏ธ ูุนู |
| ุฅุนุงุฏุฉ ุงุญุชุณุงุจ ุงูุฐูู | โ๏ธ ูุนู |
| Customer Credit | โ ุฅูุง ุฅุฐุง ุงููุฏููุน > ุตุงูู ุงููุงุชูุฑุฉ |

#### ๐ ูุซุงู ุนูู Partially Paid:
```
ุฅุฌูุงูู ุงููุงุชูุฑุฉ: 900
ุงููุฏููุน: 300
ูุฑุชุฌุน: 300
โก๏ธ ุงูุตุงูู: 600
โก๏ธ ุงููุชุจูู: 300
โก๏ธ ุฑุตูุฏ ุงูุนููู: 0
```

---

## ๐น ุซุงูุซุงู: Purchase Invoices (ููุงุชูุฑ ุงูุดุฑุงุก)

### 1๏ธโฃ Draft
- โ ูุง ูุฎุฒูู
- โ ูุง ููุฏ

### 2๏ธโฃ Received (ูุณุชููุฉ)
- โ๏ธ ุฒูุงุฏุฉ ุงููุฎุฒูู (Stock In)
- โ ูุง ููุฏ ูุญุงุณุจู

### 3๏ธโฃ Paid / Partially Paid
- โ๏ธ ุฅูุดุงุก ุงูููุฏ ุงููุญุงุณุจู ููุท
- โ๏ธ ุชุญุฏูุซ ุฐูู ูุฑุตูุฏ ุงูููุฑุฏ

---

## ๐น ุฑุงุจุนุงู: Purchase Returns (ูุฑุชุฌุนุงุช ุงููุดุชุฑูุงุช)

> ูุฑุชุฌุนุงุช ุงููุดุชุฑูุงุช ุชูููุฐ ุจููุณ ููุทู ูุฑุชุฌุนุงุช ุงูุจูุน ูููู ุจุนูุณ ุงูุชุฃุซูุฑ

### ๐ ุงููุฑุชุฌุน ุนูู Received
- โ๏ธ ุฎุตู ุงููุฎุฒูู (Stock Out)
- โ ูุง ููุฏ ูุญุงุณุจู
- โ ูุง ุฑุตูุฏ ููุฑุฏ

### ๐ ุงููุฑุชุฌุน ุนูู Paid
- โ๏ธ ุฎุตู ุงููุฎุฒูู
- โ๏ธ ููุฏ ูุญุงุณุจู ุนูุณู
- โ๏ธ Supplier Debit Credit
- โ๏ธ ูุธูุฑ ูู ุตูุญุฉ ุงูููุฑุฏ

### ๐ ุงููุฑุชุฌุน ุนูู Partially Paid
- โ๏ธ ุฎุตู ุงููุฎุฒูู
- โ๏ธ ููุฏ ูุญุงุณุจู
- โ๏ธ ุฅุนุงุฏุฉ ุงุญุชุณุงุจ ุฐูู ุงูููุฑุฏ
- โ ูุง ุฑุตูุฏ ูุฏูู ุฅูุง ุฅุฐุง ุงููุฑุชุฌุน > ุงููุชุจูู

### ๐ฐ ุชุณููุฉ ุฑุตูุฏ ุงูููุฑุฏ
- ุชุชู ูู ุตูุญุฉ ุงูููุฑุฏูู
- ุจุงุณุชุฎุฏุงู ุฒุฑ **ุณูุฏ ุงุณุชูุจุงู ุฃููุงู**
- ูุชู ุงุฎุชูุงุฑ ุงูุญุณุงุจ ุงููุงูู
- ูุชู ุฅูุดุงุก ููุฏ ูุญุงุณุจู ูุณุชูู

---

## ๐ ููุงุนุฏ ุงููุธุงู ุงูุตุงุฑูุฉ (System Guards)

### 1๏ธโฃ ูููุน ุญุฐู:
- ุฃู ูุงุชูุฑุฉ ููุง ุญุฑูุฉ ูุฎุฒูู
- ุฃู ููุฏ ูุญุงุณุจู ูุฑุชุจุท ุจุณูุฏ ุฃู ูุฑุชุฌุน

### 2๏ธโฃ ูู ููุฏ ูุญุงุณุจู ูุญุชูู:
- `reference_type`
- `reference_id`

### 3๏ธโฃ ูู ุญุฑูุฉ ูุฎุฒูู ุชุญุชูู:
- `source_document`
- `document_id`

### 4๏ธโฃ ุงูุชูุงุฑูุฑ ุชุนุชูุฏ ููุท ุนูู ุงููููุฏ ุงููุญุงุณุจูุฉ

---

## โ ุงูุฎูุงุตุฉ ุงูููุงุฆูุฉ

```
ูุตู ุชุงู ุจูู:
โโโ ุงููุณุชูุฏุงุช
โโโ ุงููุฎุฒูู
โโโ ุงููุญุงุณุจุฉ
โโโ ุงูุณุฏุงุฏ

โ๏ธ ููุน ุงูุงุฒุฏูุงุฌ
โ๏ธ ููุท ERP ุงุญุชุฑุงูู ูุงุจู ููุชุฏููู ูุงูุชูุณุน
```

---

## ๐ ุฌุฏูู ููุฎุต ุณุฑูุน

| ุงูุญุงูุฉ | ุงููุฎุฒูู | ุงูููุฏ ุงููุญุงุณุจู | ุฑุตูุฏ ุงูุนููู/ุงูููุฑุฏ |
|--------|---------|----------------|-------------------|
| **ูุงุชูุฑุฉ ุจูุน Draft** | โ | โ | โ |
| **ูุงุชูุฑุฉ ุจูุน Sent** | โ๏ธ ุฎุตู | โ | โ |
| **ูุงุชูุฑุฉ ุจูุน Paid** | โ (ุชู) | โ๏ธ | โ๏ธ |
| **ูุฑุชุฌุน ุนูู Sent** | โ๏ธ ุฅุฑุฌุงุน | โ | โ |
| **ูุฑุชุฌุน ุนูู Paid** | โ๏ธ ุฅุฑุฌุงุน | โ๏ธ | โ๏ธ Credit |
| **ูุงุชูุฑุฉ ุดุฑุงุก Draft** | โ | โ | โ |
| **ูุงุชูุฑุฉ ุดุฑุงุก Received** | โ๏ธ ุฅุถุงูุฉ | โ | โ |
| **ูุงุชูุฑุฉ ุดุฑุงุก Paid** | โ (ุชู) | โ๏ธ | โ๏ธ |
| **ูุฑุชุฌุน ุดุฑุงุก ุนูู Received** | โ๏ธ ุฎุตู | โ | โ |
| **ูุฑุชุฌุน ุดุฑุงุก ุนูู Paid** | โ๏ธ ุฎุตู | โ๏ธ | โ๏ธ Debit |

