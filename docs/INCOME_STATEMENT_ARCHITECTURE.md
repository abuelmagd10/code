# ๐ ูุงุฆูุฉ ุงูุฏุฎู (Income Statement) - ุงูุชูุซูู ุงููุนูุงุฑู

**ุชุงุฑูุฎ ุงูุงุนุชูุงุฏ:** 2026-01-25  
**ุงูุญุงูุฉ:** โ ูุนุชูุฏ ููุงุฆููุง  
**ุงููุณุชูู:** Architectural Standards

---

## ๐ ููุฎุต

ูุงุฆูุฉ ุงูุฏุฎู ุชุนุฑุถ ุงูุฅูุฑุงุฏุงุช ูุงููุตุฑููุงุช ูุตุงูู ุงูุฏุฎู/ุงูุฎุณุงุฑุฉ ูููุชุฑุฉ ุงููุญุฏุฏุฉ.

**ูุฌุจ ุฃู ูุชุทุงุจู ุตุงูู ุงูุฏุฎู ูุน ุงูููุฒุงููุฉ ุงูุนููููุฉ.**

---

## ๐น ูุตุฏุฑ ุงูุจูุงูุงุช

### ุงููุตุฏุฑ ุงููุญูุฏ ุงููุณููุญ

```
journal_entries โ journal_entry_lines โ income_statement
```

**ููููุน ููุนูุง ุจุงุชูุง:**
- โ ูุฑุงุกุฉ ูู `invoices` ูุจุงุดุฑุฉ
- โ ูุฑุงุกุฉ ูู `bills` ูุจุงุดุฑุฉ
- โ ุฃู ูุตุฏุฑ ุจูุงูุงุช ุขุฎุฑ

### ุงูุฌุฏุงูู ุงููุณุชุฎุฏูุฉ

1. **`chart_of_accounts`**
   - ููุชุฑุฉ: `account_type IN ('income', 'expense')`
   - ุงูุญููู: `id`, `account_code`, `account_name`, `account_type`

2. **`journal_entries`**
   - ููุชุฑุฉ: `company_id`, `status = 'posted'`, `deleted_at IS NULL`
   - ุงููุชุฑุฉ: `entry_date BETWEEN from_date AND to_date`

3. **`journal_entry_lines`**
   - ุงูุญููู: `account_id`, `debit_amount`, `credit_amount`
   - ุงูุฑุจุท: `journal_entry_id IN (journal_entry_ids)`

---

## ๐น ุงููุนุงุฏูุงุช ุงููุณุชุฎุฏูุฉ

### ุญุณุงุจ ุงูุฅูุฑุงุฏุงุช

```typescript
// ุงูุฅูุฑุงุฏุงุช ุชุฒูุฏ ุจุงูุฏุงุฆู (Credit - Debit)
const incomeAmount = credit_amount - debit_amount
totalIncome += incomeAmount
```

### ุญุณุงุจ ุงููุตุฑููุงุช

```typescript
// ุงููุตุฑููุงุช ุชุฒูุฏ ุจุงููุฏูู (Debit - Credit)
const expenseAmount = debit_amount - credit_amount
totalExpense += expenseAmount
```

### ุญุณุงุจ ุตุงูู ุงูุฏุฎู

```typescript
const netIncome = totalIncome - totalExpense
```

---

## ๐น ุงูุนูุงูุงุช ูุน ุงูุชูุงุฑูุฑ ุงูุฃุฎุฑู

### ุงูุชูุงูู ูุน ุงูููุฒุงููุฉ ุงูุนููููุฉ

**ูุฌุจ ุฃู ูุชุญูู ุฏุงุฆููุง:**

```
ุตุงูู ุงูุฏุฎู ูู ูุงุฆูุฉ ุงูุฏุฎู = ุงูุฑุจุญ ุงููุฑุญู ูู ุงูููุฒุงููุฉ (ุญููู ุงูููููุฉ)
```

**ุงูุชุญูู:**
- ูุชู ุญุณุงุจ ุตุงูู ุงูุฏุฎู ูู ููุณ ุงููุตุฏุฑ (`journal_entries`)
- ูุชู ุชุฑุญููู ุชููุงุฆููุง ุถูู ุญููู ุงูููููุฉ ูู ุงูููุฒุงููุฉ
- ุฃู ุงุฎุชูุงู = ุฎุทุฃ ูุธุงู

---

## ๐น ุงููููุฏ ุงููุนุชูุฏุฉ

### ุงูููุชุฑุฉ

1. **ุงูุดุฑูุฉ:** `company_id` (ุฅูุฒุงูู)
2. **ุงููุฑุน:** `branch_id` (ุงุฎุชูุงุฑู - ูุณุชูุจูู)
3. **ูุฑูุฒ ุงูุชูููุฉ:** `cost_center_id` (ุงุฎุชูุงุฑู - ูุณุชูุจูู)
4. **ุงููุชุฑุฉ:** `entry_date BETWEEN from_date AND to_date`
5. **ุงูุญุงูุฉ:** `status = 'posted'` ู `deleted_at IS NULL`

### ุนุฑุถ ุงูุญุณุงุจุงุช

- โ ุนุฑุถ ููุท ุงูุญุณุงุจุงุช ุงูุชู ููุง ุฑุตูุฏ ูุนูู (`amount !== 0`)
- โ ุชุฑุชูุจ ุญุณุจ `account_code`
- โ ุฅุฒุงูุฉ ุงูุญุณุงุจุงุช ุงูุตูุฑูุฉ

---

## ๐น ุญุงูุงุช ุงูุฎุทุฃ

### 1. ุนุฏู ุชุทุงุจู ูุน ุงูููุฒุงููุฉ

**ุงูุญุงูุฉ:** ุตุงูู ุงูุฏุฎู ูู ูุงุฆูุฉ ุงูุฏุฎู โ ุงูุฑุจุญ ูู ุงูููุฒุงููุฉ

**ุงูุณุจุจ ุงููุญุชูู:**
- ูููุฏ ุบูุฑ ูุชูุงุฒูุฉ
- ูููุฏ ูุญุฐููุฉ
- ุฃุฎุทุงุก ูู ุงูุญุณุงุจ

**ุงูุฅุฌุฑุงุก:**
- ุนุฑุถ ุชุญุฐูุฑ ูุงุถุญ
- ุชุณุฌูู ุงูุฎุทุฃ ูู logs
- ุทูุจ ูุฑุงุฌุนุฉ ุงููููุฏ

### 2. ุจูุงูุงุช ุบูุฑ ุตุญูุญุฉ

**ุงูุญุงูุฉ:** ุงูุจูุงูุงุช ุงููุณุชููุฉ ูู API ุบูุฑ ุตุญูุญุฉ

**ุงูุฅุฌุฑุงุก:**
- ุนุฑุถ ุฑุณุงูุฉ ุฎุทุฃ ูุงุถุญุฉ
- ุฅุนุงุฏุฉ ุงููุญุงููุฉ
- ุชุณุฌูู ุงูุฎุทุฃ

---

## ๐ ุงููููุงุช

### API
- **ุงูููู:** `app/api/income-statement/route.ts`
- **ุงููุธููุฉ:** ุญุณุงุจ ุงูุฅูุฑุงุฏุงุช ูุงููุตุฑููุงุช ูู `journal_entries`

### Frontend
- **ุงูููู:** `app/reports/income-statement/page.tsx`
- **ุงููุธููุฉ:** ุนุฑุถ ูุงุฆูุฉ ุงูุฏุฎู

---

## ๐น ุงูุชุญุณููุงุช ุงููุณุชูุจููุฉ

### Realtime Updates

**ุงููุทููุจ:**
- ุงูุงุดุชุฑุงู ูู ุชุญุฏูุซุงุช `journal_entries`
- ุชุญุฏูุซ ุงูุชูุฑูุฑ ูุญุธููุง ุนูุฏ ุฅุฏุฎุงู/ุชุนุฏูู ููุฏ
- ุฅุนุงุฏุฉ ุงูุชุญูู ูู ุงูุชูุงูู ูุน ุงูููุฒุงููุฉ

**ุงูุชูููุฐ:**
- ุฅุถุงูุฉ `journal_entries` ุฅูู `RealtimeTable` ูู `realtime-manager.ts`
- ุงุณุชุฎุฏุงู `useRealtimeTable` hook ูู ุงูุตูุญุฉ

### ุฏุนู ุงููุฑูุน ููุฑุงูุฒ ุงูุชูููุฉ

**ุงููุทููุจ:**
- ููุชุฑุฉ ุญุณุจ `branch_id`
- ููุชุฑุฉ ุญุณุจ `cost_center_id`
- ุชูุงุฑูุฑ ููุงุฑูุฉ ุจูู ุงููุฑูุน

---

## โ ูุนุงููุฑ ุงูุฌูุฏุฉ

### ุงูุตุญุฉ ุงููุญุงุณุจูุฉ
- โ ุฌููุน ุงูุฃุฑูุงู ูุงุจูุฉ ููุชุชุจุน ุฅูู `journal_entries`
- โ ุงูุชูุงูู ูุน ุงูููุฒุงููุฉ ูุญูู
- โ ูุง ุชูุฌุฏ ููู ุซุงุจุชุฉ

### ุงูุงุณุชูุฑุงุฑ ุงูุชููู
- โ ูุง ุชุนุชูุฏ ุนูู ุชุฎุฒูู ูุคูุช
- โ ุญุณุงุจ ุฏููุงูููู ูู ูู ูุฑุฉ
- โ ูุนุงูุฌุฉ ุฃุฎุทุงุก ุดุงููุฉ

### ุงููุทุงุจูุฉ ุงููุนูุงุฑูุฉ
- โ ูุทุงุจู ูู Odoo
- โ ูุทุงุจู ูู Zoho Books
- โ ูุทุงุจู ูู SAP
- โ ูุทุงุจู ูููุนุงููุฑ ุงููุญุงุณุจูุฉ ุงูุฏูููุฉ

---

## ๐ ุณุฌู ุงูุชุบููุฑุงุช

| ุงูุชุงุฑูุฎ | ุงูุชุบููุฑ | ุงููุนุชูุฏ |
|---------|---------|---------|
| 2026-01-25 | ุงุนุชูุงุฏ ููุงุฆู ููููุทู | โ |
| 2026-01-25 | ุฅุถุงูุฉ ุชุนูููุงุช ุชูุถูุญูุฉ | โ |

---

**ุชู ุงูุงุนุชูุงุฏ ุงูููุงุฆู โ**
