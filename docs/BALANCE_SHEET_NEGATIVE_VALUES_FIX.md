# ๐ ุชุญููู ูุดููุฉ ุงูููู ุงูุณุงูุจุฉ ูู ุงูููุฒุงููุฉ ุงูุนููููุฉ

## ๐ ุงููุดููุฉ:

ุงูููุฒุงููุฉ ุงูุนููููุฉ ุชุธูุฑ ูููุงู ุณุงูุจุฉ ุบูุฑ ููุทููุฉ:
- **ุงูุนููุงุก**: -1,500 ยฃ (ูุฌุจ ุฃู ูููู ููุฌุจุงู)
- **ุงููุฎุฒูู**: -146,560 ยฃ (ูุฌุจ ุฃู ูููู ููุฌุจุงู)
- **ุงูููุฑุฏูู**: -239,230 ยฃ (ูุฌุจ ุฃู ูููู ููุฌุจุงู ููุงูุชุฒุงูุงุช)

## โ ุงูุชุญูู:

ุงูููุฒุงููุฉ **ูุชูุงุฒูุฉ ุญุณุงุจูุงู**:
- ุงูุฃุตูู = -133,220
- ุงูุงูุชุฒุงูุงุช + ุญููู ุงูููููุฉ = -239,230 + 106,010 = -133,220

## ๐ ุงูุฃุณุจุงุจ ุงููุญุชููุฉ:

### 1. **Opening Balance ุณุงูุจ ุจุดูู ุฎุงุทุฆ**
- ุงูุญุณุงุจุงุช ุงูุฃุตูููุฉ (Assets) ูุฌุจ ุฃู ุชููู `opening_balance >= 0`
- ุฅุฐุง ูุงู `opening_balance` ุณุงูุจุงูุ ุณูุคุฏู ุฅูู ุฑุตูุฏ ุณุงูุจ

### 2. **ูููุฏ ูุญุงุณุจูุฉ ุฎุงุทุฆุฉ**
- **Credit ููุฃุตูู** ุจุฏูุงู ูู Debit (ูุซู: ุชุณุฌูู ุฎุตู ูุฎุฒูู ูู Credit ุจุฏูุงู ูู Credit ูุญุณุงุจ ุงููุฎุฒูู)
- **Debit ููุงูุชุฒุงูุงุช** ุจุฏูุงู ูู Credit (ูุซู: ุชุณุฌูู ุฏูุน ููุฑุฏ ูู Debit ุจุฏูุงู ูู Debit ูุญุณุงุจ ุงูููุฑุฏูู)

### 3. **ุชุฑุญูู ุงููููุฏ ุจุดูู ูุนููุณ**
- ุชุณุฌูู ุงููููุฏ ุจุดูู ูุนููุณ (Debit/Credit ููููุจูู)

## ๐ง ุงูุญู:

### ุงูุฎุทูุฉ 1: ูุญุต ุงูุจูุงูุงุช
ุชุดุบูู ุงูุณูุฑูุจุช `scripts/diagnose_balance_sheet_negative.sql` ููุญุต:
1. ุงูุฃุฑุตุฏุฉ ุงูุงูุชุชุงุญูุฉ
2. ุงูุญุฑูุงุช ุงููุญุงุณุจูุฉ
3. ุงููููุฏ ุงููุดุจููุฉ

### ุงูุฎุทูุฉ 2: ุฅุตูุงุญ Opening Balances
```sql
-- ุชุตุญูุญ Opening Balance ููุฃุตูู (ูุฌุจ ุฃู ูููู ููุฌุจุงู)
UPDATE chart_of_accounts
SET opening_balance = ABS(opening_balance)
WHERE account_type = 'asset' 
  AND opening_balance < 0
  AND is_active = true;
```

### ุงูุฎุทูุฉ 3: ุฅุตูุงุญ ุงููููุฏ ุงููุญุงุณุจูุฉ ุงูุฎุงุทุฆุฉ
- ูุฌุจ ูุฑุงุฌุนุฉ ูู ููุฏ ูุญุงุณุจู ูุดูุฑ ุฅูู ุญุณุงุจ ุฃุตู ุจู Credit ุฃู ุญุณุงุจ ุงูุชุฒุงู ุจู Debit
- ุชุตุญูุญ ุงููููุฏ ุงูุฎุงุทุฆุฉ ูุฏููุงู ุฃู ุนุจุฑ ุณูุฑูุจุช ุฅุตูุงุญ

## ๐ Checklist ููุฅุตูุงุญ:

- [ ] ูุญุต `opening_balance` ููุญุณุงุจุงุช ุงูุฃุตูููุฉ (ูุฌุจ ุฃู ุชููู >= 0)
- [ ] ูุญุต ุงููููุฏ ุงูุชู ุชุญุชูู ุนูู Credit ูุฃุตูู (ูุฌุจ ุฃู ุชููู Debit)
- [ ] ูุญุต ุงููููุฏ ุงูุชู ุชุญุชูู ุนูู Debit ูุงูุชุฒุงูุงุช (ูุฌุจ ุฃู ุชููู Credit)
- [ ] ุงูุชุญูู ูู ุตุญุฉ ุงููููุฏ ุงููุญุงุณุจูุฉ ุงูุฃุณุงุณูุฉ (ุงูููุงุชูุฑุ ุงููุฏููุนุงุชุ ุฅูุฎ)

## โ๏ธ ุชุญุฐูุฑ:

**ูุง ุชูู ุจุฅุตูุงุญ ุงูููู ุจุดูู ุขูู** - ูุฏ ุชููู ุจุนุถ ุงูููู ุงูุณุงูุจุฉ ููุทููุฉ:
- **ุณูู ุนููุงุก** (Customer Credit): ุฑุตูุฏ ุณุงูุจ ูู ุญุณุงุจ ุงูุนููุงุก = ุณููุฉ ูู ุงูุนููู
- **ุฃุฑุตุฏุฉ ูุฏููุฉ ููููุฑุฏูู** (Supplier Debit): ุฑุตูุฏ ุณุงูุจ ูู ุญุณุงุจ ุงูููุฑุฏูู = ุฏูุนุฉ ููุฏูุฉ ููููุฑุฏ

ูุฌุจ ูุฑุงุฌุนุฉ ูู ุญุณุงุจ ุจุดูู ูููุตู ูุชุญุฏูุฏ ูุง ุฅุฐุง ูุงู ุงูุฑุตูุฏ ุงูุณุงูุจ ููุทููุงู ุฃู ูุง.
