# ๐ ููุฒุฉ ุงูุจุญุซ ูู ูุฎุฒูู ุงููุฑูุน (Product Availability Across Branches)

## ๐ฏ ุงููุฏู
ููุฒุฉ ููุงุทูุงุน ููุท (Read-Only) ุชุณูุญ ูุฌููุน ุงููุณุชุฎุฏููู ุจุงูุจุญุซ ุนู ุชููุฑ ุงูููุชุฌุงุช ูู ุฌููุน ุงููุฑูุน ูุงููุฎุงุฒู ุฏุงุฎู ููุณ ุงูุดุฑูุฉ.

---

## โจ ุงูููุฒุงุช

### 1. **ุงูุจุญุซ ุนู ุงูููุชุฌุงุช**
- โ ุงูุจุญุซ ุจุงูุงุณู ุฃู ุงูุฑูุฒ (SKU)
- โ ุนุฑุถ ูุงุฆูุฉ ุจุฌููุน ุงูููุชุฌุงุช ุงููุดุทุฉ
- โ ููุชุฑุฉ ุชููุงุฆูุฉ ููุฎุฏูุงุช (ุนุฑุถ ุงูููุชุฌุงุช ููุท)

### 2. **ุนุฑุถ ุงููุชุงุฆุฌ**
- โ **ุงุณู ุงููุฑุน**: ุงููุฑุน ุงูุฐู ูุญุชูู ุนูู ุงููุฎุฒูู
- โ **ุงุณู ุงููุฎุฒู**: ุงููุฎุฒู ุฏุงุฎู ุงููุฑุน
- โ **ูุฑูุฒ ุงูุชูููุฉ**: ูุฑูุฒ ุงูุชูููุฉ ุงููุฑุชุจุท ุจุงููุฎุฒู
- โ **ุงููููุฉ ุงููุชุงุญุฉ**: ุงููููุฉ ุงููุนููุฉ ุงููุชุงุญุฉ (ุจุนุฏ ุงุณุชุจุนุงุฏ ุงููุญุฌูุฒ)
- โ **ุงูุญุงูุฉ**: ูุชููุฑ / ุบูุฑ ูุชููุฑ

### 3. **ุงูููุฎุต ุงูุณุฑูุน**
- โ ุฅุฌูุงูู ุงููููุฉ ุงููุชุงุญุฉ ูู ุฌููุน ุงููุฑูุน
- โ ุนุฏุฏ ุงููุฎุงุฒู ุงูุชู ุชุญุชูู ุนูู ุงููุฎุฒูู

---

## ๐ ุงูุฃูุงู ูุงูุตูุงุญูุงุช

### 1. **ุงูุงูุชุฒุงู ุจุตูุงุญูุงุช ุงููุณุชุฎุฏู**
- โ ุงููุณุชุฎุฏููู ุงูุนุงุฏููู: ูุฑูู ููุท ุงููุฑูุน ุงููุณููุญ ููู ุจุงูุงุทูุงุน ุนูููุง
- โ ุงููุฏุฑุงุก: ูุฑูู ุฌููุน ุงููุฑูุน ูู ุงูุดุฑูุฉ
- โ ุงููุงูููู/ุงููุณุคูููู: ูุฑูู ุฌููุน ุงููุฑูุน

### 2. **ููุงุทูุงุน ููุท (Read-Only)**
- โ **ูุง ุจูุน**: ูุง ูููู ุฅูุดุงุก ูุงุชูุฑุฉ ุจูุน ูู ูุฐู ุงูุตูุญุฉ
- โ **ูุง ุญุฌุฒ**: ูุง ูููู ุญุฌุฒ ุงููุฎุฒูู
- โ **ูุง ููู**: ูุง ูููู ููู ุงููุฎุฒูู
- โ **ููุงุทูุงุน ููุท**: ุนุฑุถ ุงููุนูููุงุช ููุท

---

## ๐ ุงููููุน

### ุฑุงุจุท ุงูุตูุญุฉ:
```
/inventory/product-availability
```

### ูู ุงููุงุฆูุฉ ุงูุฌุงูุจูุฉ:
- **ุงููุฎุฒูู** โ **ุชููุฑ ุงูููุชุฌุงุช ูู ุงููุฑูุน** (Product Availability)

---

## ๐จ ูุงุฌูุฉ ุงููุณุชุฎุฏู

### 1. **ุดุฑูุท ุงูุจุญุซ**
- ุญูู ุงุฎุชูุงุฑ ุงูููุชุฌ (ProductSearchSelect)
- ุฒุฑ ุงูุจุญุซ
- ุนุฑุถ ูุนูููุงุช ุงูููุชุฌ ุงููุญุฏุฏ

### 2. **ุฌุฏูู ุงููุชุงุฆุฌ**
- ุฌุฏูู ููุธู ูุนุฑุถ:
  - ุงููุฑุน
  - ุงููุฎุฒู
  - ูุฑูุฒ ุงูุชูููุฉ
  - ุงููููุฉ ุงููุชุงุญุฉ
  - ุงูุญุงูุฉ (Badge ูููู)

### 3. **ุงูููุฎุต**
- ุจุทุงูุฉ ููุฎุต ุชุนุฑุถ:
  - ุฅุฌูุงูู ุงููููุฉ ุงููุชุงุญุฉ
  - ุนุฏุฏ ุงููุฎุงุฒู ุงููุชููุฑุฉ

---

## ๐ง ุงูุชุทุจูู ุงูุชููู

### 1. **API Route**
```
GET /api/inventory/product-availability
```

**Query Parameters:**
- `product_id` (required): UUID ุงูููุชุฌ
- `company_id` (optional): UUID ุงูุดุฑูุฉ (ููุณุชุฎุฏู ูู governance ุฅุฐุง ูู ููุญุฏุฏ)

**Response:**
```json
{
  "data": [
    {
      "branch_id": "uuid",
      "branch_name": "ุงุณู ุงููุฑุน",
      "warehouse_id": "uuid",
      "warehouse_name": "ุงุณู ุงููุฎุฒู",
      "cost_center_id": "uuid | null",
      "cost_center_name": "ุงุณู ูุฑูุฒ ุงูุชูููุฉ | null",
      "available_quantity": 100
    }
  ],
  "product_id": "uuid",
  "company_id": "uuid"
}
```

### 2. **ุญุณุงุจ ุงููููุฉ ุงููุชุงุญุฉ**
- ุงุณุชุฎุฏุงู ุฏุงูุฉ SQL: `get_available_inventory_quantity`
- ุญุณุงุจ ุฏููู ูุนุชูุฏ ุนูู:
  - `company_id`
  - `branch_id`
  - `warehouse_id`
  - `cost_center_id`
  - `product_id`

### 3. **ุงูููุชุฑุฉ ุญุณุจ ุงูุตูุงุญูุงุช**
- ุฌูุจ ุงููุฑูุน ุงููุณููุญุฉ ูููุณุชุฎุฏู
- ููุชุฑุฉ ุงููุฎุงุฒู ุญุณุจ ุงููุฑูุน ุงููุณููุญุฉ
- ุนุฑุถ ุงููุชุงุฆุฌ ูุฑุชุจุฉ ุญุณุจ ุงููููุฉ (ูู ุงูุฃูุจุฑ ููุฃุตุบุฑ)

---

## ๐ ูุซุงู ุนูู ุงูุงุณุชุฎุฏุงู

### ุงูุณููุงุฑูู:
1. **ุงูููุธู** ูุฑูุฏ ุฅูุดุงุก ูุงุชูุฑุฉ ุจูุน ูุนููู
2. **ุงููุฎุฒูู** ูู ุงููุฑุน ุงูุญุงูู ุบูุฑ ูุงูู
3. **ุงูุจุญุซ** ุนู ุงูููุชุฌ ูู ุตูุญุฉ "ุชููุฑ ุงูููุชุฌุงุช ูู ุงููุฑูุน"
4. **ุงูุนุซูุฑ** ุนูู ุฃู ุงูููุชุฌ ูุชููุฑ ูู ูุฑุน ุขุฎุฑ
5. **ุฅุจูุงุบ ุงูุนููู** ููุฑุงู ุฃู ุงูููุชุฌ ูุชููุฑ ูู ูุฑุน ุขุฎุฑ
6. **ุชุญุฏูุฏ** ุงุณู ุงููุฑุน ูุงููุฎุฒู ูุงููููุฉ ุงููุชุงุญุฉ

### ุงููุชูุฌุฉ:
- โ **ุนุฏู ููุฏุงู ุงูุจูุน**: ุงูุนููู ูุนุฑู ุฃู ุงูููุชุฌ ูุชููุฑ ูู ููุงู ุขุฎุฑ
- โ **ุชุญุณูู ุฎุฏูุฉ ุงูุนููุงุก**: ุฅุฌุงุจุฉ ููุฑูุฉ ูุฏูููุฉ
- โ **ุดูุงููุฉ**: ุงูููุธู ูุนุฑู ุงููุฎุฒูู ูู ุฌููุน ุงููุฑูุน

---

## ๐ ุงูููุงุฆุฏ

### 1. **ููููุธููู**
- โ ูุนุฑูุฉ ููุฑูุฉ ุจุชููุฑ ุงูููุชุฌุงุช ูู ุฌููุน ุงููุฑูุน
- โ ุฅููุงููุฉ ุฅุจูุงุบ ุงูุนููุงุก ุจุฏูุฉ
- โ ุชุญุณูู ุฎุฏูุฉ ุงูุนููุงุก

### 2. **ููุดุฑูุฉ**
- โ ุชูููู ููุฏุงู ุงููุจูุนุงุช
- โ ุชุญุณูู ุฅุฏุงุฑุฉ ุงููุฎุฒูู
- โ ุฑูุน ูุณุชูู ุงูุงุญุชุฑุงููุฉ

### 3. **ููุนููุงุก**
- โ ุฅุฌุงุจุฉ ููุฑูุฉ ูุฏูููุฉ
- โ ูุนุฑูุฉ ููุงู ุชููุฑ ุงูููุชุฌ
- โ ุชุญุณูู ุชุฌุฑุจุฉ ุงูุดุฑุงุก

---

## ๐ ููุงุญุธุงุช ูููุฉ

### 1. **ูุง ุชุคุซุฑ ุนูู ููุทู ุงูุชุญูู ูู ุงููุฎุฒูู**
- โ ูุฐู ุงูููุฒุฉ **ููุงุทูุงุน ููุท**
- โ **ูุง ุชุบูุฑ** ููุทู ุงูุชุญูู ูู ุงููุฎุฒูู ุนูุฏ ุฅูุดุงุก ุงูููุงุชูุฑ
- โ **ูุง ุชุคุซุฑ** ุนูู ููุงุนุฏ ุงูุญูููุฉ

### 2. **ุงููููุฉ ุงููุชุงุญุฉ ุงููุนููุฉ**
- โ ุชุนุฑุถ ุงููููุฉ **ุจุนุฏ ุงุณุชุจุนุงุฏ ุงููุญุฌูุฒ**
- โ ุชุณุชุฎุฏู ููุณ ุฏุงูุฉ `get_available_inventory_quantity`
- โ ุญุณุงุจ ุฏููู ูุนุชูุฏ ุนูู ุญุฑูุงุช ุงููุฎุฒูู

### 3. **ุงูุตูุงุญูุงุช**
- โ ุชูุชุฒู ุจุตูุงุญูุงุช ุงููุณุชุฎุฏู ุนูู ูุณุชูู ุงูุดุฑูุฉ ูุงููุฑูุน
- โ ุงููุณุชุฎุฏููู ุงูุนุงุฏููู ูุฑูู ููุท ุงููุฑูุน ุงููุณููุญุฉ ููู
- โ ุงููุฏุฑุงุก ูุงููุงูููู ูุฑูู ุฌููุน ุงููุฑูุน

---

## ๐ ุงููููุงุช ุฐุงุช ุงูุตูุฉ

### API:
- `app/api/inventory/product-availability/route.ts` - API route

### UI:
- `app/inventory/product-availability/page.tsx` - ุตูุญุฉ ุงูุจุญุซ

### Components:
- `components/ProductSearchSelect.tsx` - ูููู ุงุฎุชูุงุฑ ุงูููุชุฌ
- `components/sidebar.tsx` - ุงููุงุฆูุฉ ุงูุฌุงูุจูุฉ (ุชู ุฅุถุงูุฉ ุงูุฑุงุจุท)

### Database Functions:
- `get_available_inventory_quantity` - ุฏุงูุฉ SQL ูุญุณุงุจ ุงููููุฉ ุงููุชุงุญุฉ

---

## ๐ฏ ุงูุชุทููุฑ ุงููุณุชูุจูู

### ุชุญุณููุงุช ููุชุฑุญุฉ:
1. **ููุชุฑุฉ ูุชูุฏูุฉ**:
   - ููุชุฑุฉ ุญุณุจ ุงููุฑุน
   - ููุชุฑุฉ ุญุณุจ ุงููุฎุฒู
   - ููุชุฑุฉ ุญุณุจ ุงููููุฉ (ุฃูุจุฑ ูู X)

2. **ุชุตุฏูุฑ ุงูุจูุงูุงุช**:
   - ุชุตุฏูุฑ ุงููุชุงุฆุฌ ุฅูู Excel
   - ุทุจุงุนุฉ ุงูุชูุฑูุฑ

3. **ุฅุดุนุงุฑุงุช**:
   - ุฅุดุนุงุฑ ุนูุฏ ุชููุฑ ููุชุฌ ูู ูุฑุน ุขุฎุฑ
   - ุฅุดุนุงุฑ ุนูุฏ ููุงุฐ ูุฎุฒูู ูู ูุฑุน ูุนูู

4. **ุฅุญุตุงุฆูุงุช**:
   - ุนุฑุถ ุฅุญุตุงุฆูุงุช ุชููุฑ ุงูููุชุฌุงุช
   - ุฑุณูู ุจูุงููุฉ ูุชูุฒูุน ุงููุฎุฒูู

---

**ุขุฎุฑ ุชุญุฏูุซ**: 2026-01-26
