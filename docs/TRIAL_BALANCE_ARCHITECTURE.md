# ๐ ููุฒุงู ุงููุฑุงุฌุนุฉ (Trial Balance) - ุงูุชูุซูู ุงููุนูุงุฑู

**ุชุงุฑูุฎ ุงูุงุนุชูุงุฏ:** 2026-01-25  
**ุงูุญุงูุฉ:** โ ูุนุชูุฏ ููุงุฆููุง  
**ุงููุณุชูู:** Architectural Standards

---

## ๐ ููุฎุต

ููุฒุงู ุงููุฑุงุฌุนุฉ ูุนุฑุถ ุฌููุน ุฃุฑุตุฏุฉ ุงูุญุณุงุจุงุช (ูุฏูู ูุฏุงุฆู) ูู ุชุงุฑูุฎ ูุญุฏุฏ.

**ูุฌุจ ุฃู ูุชุญูู ุฏุงุฆููุง: ูุฌููุน ุงููุฏูู = ูุฌููุน ุงูุฏุงุฆู**

---

## ๐น ูุตุฏุฑ ุงูุจูุงูุงุช

### ุงููุตุฏุฑ ุงููุญูุฏ ุงููุณููุญ

```
journal_entries โ journal_entry_lines โ trial_balance
```

**ููููุน ููุนูุง ุจุงุชูุง:**
- โ ูุฑุงุกุฉ ูู `invoices` ูุจุงุดุฑุฉ
- โ ูุฑุงุกุฉ ูู `bills` ูุจุงุดุฑุฉ
- โ ุฃู ูุตุฏุฑ ุจูุงูุงุช ุขุฎุฑ

### ุงูุฌุฏุงูู ุงููุณุชุฎุฏูุฉ

1. **`chart_of_accounts`**
   - ููุชุฑุฉ: `is_active = true`
   - ุงูุญููู: `id`, `account_code`, `account_name`, `account_type`, `normal_balance`, `opening_balance`

2. **`journal_entries`**
   - ููุชุฑุฉ: `company_id`, `deleted_at IS NULL`, `entry_date <= asOfDate`
   - ูุง ููุชุฑุฉ ุนูู `status` (ุฌููุน ุงููููุฏ)

3. **`journal_entry_lines`**
   - ุงูุญููู: `account_id`, `debit_amount`, `credit_amount`
   - ุงูุฑุจุท: `journal_entry_id IN (journal_entry_ids)`

---

## ๐น ุงููุนุงุฏูุงุช ุงููุณุชุฎุฏูุฉ

### ุญุณุงุจ ุงูุฑุตูุฏ

```typescript
// ุญุณุจ ุงูุทุจูุนุฉ ุงููุญุงุณุจูุฉ
const isDebitNature = account_type === 'asset' || account_type === 'expense'
const closingBalance = isDebitNature
  ? opening_balance + (debit - credit)
  : opening_balance + (credit - debit)
```

### ุนุฑุถ ุงูุฑุตูุฏ

```typescript
// ุนุฑุถ ูู ุฃุนูุฏุฉ ูููุตูุฉ
const closingDebit = closingBalance > 0 ? closingBalance : 0
const closingCredit = closingBalance < 0 ? Math.abs(closingBalance) : 0
```

---

## ๐น ุงูุนูุงูุงุช ูุน ุงูุชูุงุฑูุฑ ุงูุฃุฎุฑู

### ุงูุชูุงูู ูุน ุงูููุฒุงููุฉ ุงูุนููููุฉ

**ูุฌุจ ุฃู ูุชุญูู ุฏุงุฆููุง:**

```
ูุฌููุน ุงูุฃุฑุตุฏุฉ ุงููุฏููุฉ ูู ููุฒุงู ุงููุฑุงุฌุนุฉ = ูุฌููุน ุงูุฃุฑุตุฏุฉ ุงูุฏุงุฆูุฉ
ูุฌููุน ุงูุฃุตูู ูู ุงูููุฒุงููุฉ = ูุฌููุน ุงูุงูุชุฒุงูุงุช + ุญููู ุงูููููุฉ
```

**ุงูุชุญูู:**
- ูุชู ุญุณุงุจ ุงูุฃุฑุตุฏุฉ ูู ููุณ ุงููุตุฏุฑ (`journal_entries`)
- ุฃู ุงุฎุชูุงู = ุฎุทุฃ ูุธุงู ุญุฑุฌ

---

## ๐น ุงููููุฏ ุงููุนุชูุฏุฉ

### ุงูููุชุฑุฉ

1. **ุงูุดุฑูุฉ:** `company_id` (ุฅูุฒุงูู)
2. **ุงูุชุงุฑูุฎ:** `entry_date <= asOfDate`
3. **ุงูุญุงูุฉ:** `deleted_at IS NULL` (ูุง ููุชุฑุฉ ุนูู status)

### ุนุฑุถ ุงูุญุณุงุจุงุช

- โ ุนุฑุถ ููุท ุงูุญุณุงุจุงุช ุงูุชู ููุง ุฑุตูุฏ ูุนูู ุฃู ุญุฑูุงุช
- โ ุชุฑุชูุจ ุญุณุจ `account_code`
- โ ุฅุฒุงูุฉ ุงูุญุณุงุจุงุช ุงูุตูุฑูุฉ

---

## ๐น ุญุงูุงุช ุงูุฎุทุฃ

### 1. ุนุฏู ุงูุชูุงุฒู

**ุงูุญุงูุฉ:** ูุฌููุน ุงููุฏูู โ ูุฌููุน ุงูุฏุงุฆู

**ุงูุณุจุจ ุงููุญุชูู:**
- ูููุฏ ุบูุฑ ูุชูุงุฒูุฉ
- ูููุฏ ูุญุฐููุฉ
- ุฃุฎุทุงุก ูู ุงูุญุณุงุจ

**ุงูุฅุฌุฑุงุก:**
- ุนุฑุถ ุชุญุฐูุฑ ุฎุทุฃ ูุธุงู ูุงุถุญ
- ุชุณุฌูู ุงูุฎุทุฃ ูู logs
- ุทูุจ ูุฑุงุฌุนุฉ ุงููููุฏ

---

## ๐ ุงููููุงุช

### API
- **ุงูููู:** `app/api/trial-balance/route.ts`
- **ุงููุธููุฉ:** ุญุณุงุจ ุฃุฑุตุฏุฉ ุฌููุน ุงูุญุณุงุจุงุช ูู `journal_entries`

### Frontend
- **ุงูููู:** `app/reports/trial-balance/page.tsx`
- **ุงููุธููุฉ:** ุนุฑุถ ููุฒุงู ุงููุฑุงุฌุนุฉ

---

## ๐น ุงูุชุญุณููุงุช ุงููุณุชูุจููุฉ

### Realtime Updates

**ุงููุทููุจ:**
- ุงูุงุดุชุฑุงู ูู ุชุญุฏูุซุงุช `journal_entries`
- ุชุญุฏูุซ ุงูุชูุฑูุฑ ูุญุธููุง ุนูุฏ ุฅุฏุฎุงู/ุชุนุฏูู ููุฏ
- ุฅุนุงุฏุฉ ุงูุชุญูู ูู ุงูุชูุงุฒู

---

## โ ูุนุงููุฑ ุงูุฌูุฏุฉ

### ุงูุตุญุฉ ุงููุญุงุณุจูุฉ
- โ ุฌููุน ุงูุฃุฑูุงู ูุงุจูุฉ ููุชุชุจุน ุฅูู `journal_entries`
- โ ุงูุชูุงูู ูุน ุงูููุฒุงููุฉ ูุญูู
- โ ูุง ุชูุฌุฏ ููู ุซุงุจุชุฉ

### ุงูุงุณุชูุฑุงุฑ ุงูุชููู
- โ ูุง ุชุนุชูุฏ ุนูู ุชุฎุฒูู ูุคูุช
- โ ุญุณุงุจ ุฏููุงูููู ูู ูู ูุฑุฉ
- โ ูุนุงูุฌุฉ ุฃุฎุทุงุก ุดุงููุฉ

### ุงููุทุงุจูุฉ ุงููุนูุงุฑูุฉ
- โ ูุทุงุจู ูู Odoo
- โ ูุทุงุจู ูู Zoho Books
- โ ูุทุงุจู ูู SAP
- โ ูุทุงุจู ูููุนุงููุฑ ุงููุญุงุณุจูุฉ ุงูุฏูููุฉ

---

## ๐ ุณุฌู ุงูุชุบููุฑุงุช

| ุงูุชุงุฑูุฎ | ุงูุชุบููุฑ | ุงููุนุชูุฏ |
|---------|---------|---------|
| 2026-01-25 | ุงุนุชูุงุฏ ููุงุฆู ููููุทู | โ |
| 2026-01-25 | ุฅุถุงูุฉ ุชุนูููุงุช ุชูุถูุญูุฉ | โ |

---

**ุชู ุงูุงุนุชูุงุฏ ุงูููุงุฆู โ**
