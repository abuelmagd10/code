# ๐ ุฏูุชุฑ ุงูุฃุณุชุงุฐ ุงูุนุงู (General Ledger) - ุงูุชูุซูู ุงููุนูุงุฑู

**ุชุงุฑูุฎ ุงูุงุนุชูุงุฏ:** 2026-01-25  
**ุงูุญุงูุฉ:** โ ูุนุชูุฏ ููุงุฆููุง  
**ุงููุณุชูู:** Architectural Standards

---

## ๐ ููุฎุต

ุฏูุชุฑ ุงูุฃุณุชุงุฐ ุงูุนุงู ูุนุฑุถ ุฌููุน ุงูุญุฑูุงุช ุนูู ุญุณุงุจ ูุนูู ุฃู ูุฌููุนุฉ ุญุณุงุจุงุช ูุน ุงูุฃุฑุตุฏุฉ ุงูุฌุงุฑูุฉ.

---

## ๐น ูุตุฏุฑ ุงูุจูุงูุงุช

### ุงููุตุฏุฑ ุงููุญูุฏ ุงููุณููุญ

```
journal_entries โ journal_entry_lines โ general_ledger
```

**ููููุน ููุนูุง ุจุงุชูุง:**
- โ ูุฑุงุกุฉ ูู `invoices` ูุจุงุดุฑุฉ
- โ ูุฑุงุกุฉ ูู `bills` ูุจุงุดุฑุฉ
- โ ุฃู ูุตุฏุฑ ุจูุงูุงุช ุขุฎุฑ

### ุงูุฌุฏุงูู ุงููุณุชุฎุฏูุฉ

1. **`chart_of_accounts`**
   - ููุชุฑุฉ: `is_active = true`
   - ุงูุญููู: `id`, `account_code`, `account_name`, `account_type`, `sub_type`, `opening_balance`

2. **`journal_entries`**
   - ููุชุฑุฉ: `company_id`, `status = 'posted'`, `deleted_at IS NULL`
   - ุงููุชุฑุฉ: `entry_date BETWEEN from_date AND to_date`

3. **`journal_entry_lines`**
   - ุงูุญููู: `account_id`, `debit_amount`, `credit_amount`, `description`
   - ุงูุฑุจุท: `journal_entry_id IN (journal_entry_ids)`

---

## ๐น ุงููุนุงุฏูุงุช ุงููุณุชุฎุฏูุฉ

### ุญุณุงุจ ุงูุฑุตูุฏ

```typescript
// ุญุณุจ ุงูุทุจูุนุฉ ุงููุญุงุณุจูุฉ
const isDebitNature = account_type === 'asset' || account_type === 'expense'
const movement = isDebitNature ? (debit - credit) : (credit - debit)
runningBalance += movement
```

### ุงูุฑุตูุฏ ุงูุงูุชุชุงุญู

```typescript
// ุงูุฑุตูุฏ ุงูุงูุชุชุงุญู = opening_balance + movements ูุจู ุชุงุฑูุฎ ุงูุจุฏุงูุฉ
openingBalance = account.opening_balance + movements_before_from_date
```

---

## ๐น ุงูุนูุงูุงุช ูุน ุงูุชูุงุฑูุฑ ุงูุฃุฎุฑู

### ุงูุชูุงูู ูุน ููุฒุงู ุงููุฑุงุฌุนุฉ

**ูุฌุจ ุฃู ูุชุญูู ุฏุงุฆููุง:**

```
ูุฌููุน ุงูุฃุฑุตุฏุฉ ูู General Ledger = ูุฌููุน ุงูุฃุฑุตุฏุฉ ูู Trial Balance
```

**ุงูุชุญูู:**
- ูุชู ุญุณุงุจ ุงูุฃุฑุตุฏุฉ ูู ููุณ ุงููุตุฏุฑ (`journal_entries`)
- ุฃู ุงุฎุชูุงู = ุฎุทุฃ ูุธุงู

---

## ๐น ุงููููุฏ ุงููุนุชูุฏุฉ

### ุงูููุชุฑุฉ

1. **ุงูุดุฑูุฉ:** `company_id` (ุฅูุฒุงูู)
2. **ุงูุญุณุงุจ:** `account_id` (ุงุฎุชูุงุฑู - ุฅุฐุง ูู ููุญุฏุฏุ ูุนุฑุถ ุฌููุน ุงูุญุณุงุจุงุช)
3. **ุงููุฑุน:** `branch_id` (ุงุฎุชูุงุฑู - ูุณุชูุจูู)
4. **ูุฑูุฒ ุงูุชูููุฉ:** `cost_center_id` (ุงุฎุชูุงุฑู - ูุณุชูุจูู)
5. **ุงููุชุฑุฉ:** `entry_date BETWEEN from_date AND to_date`
6. **ุงูุญุงูุฉ:** `status = 'posted'` ู `deleted_at IS NULL`

### ุนุฑุถ ุงูุญุณุงุจุงุช

- โ ุนุฑุถ ููุท ุงูุญุณุงุจุงุช ุงูุชู ููุง ุญุฑูุงุช ุฃู ุฃุฑุตุฏุฉ
- โ ุชุฑุชูุจ ุญุณุจ `account_code`
- โ ุฅุฒุงูุฉ ุงูุญุณุงุจุงุช ุงูุตูุฑูุฉ

---

## ๐น ุญุงูุงุช ุงูุฎุทุฃ

### 1. ุนุฏู ุชุทุงุจู ูุน ููุฒุงู ุงููุฑุงุฌุนุฉ

**ุงูุญุงูุฉ:** ูุฌููุน ุงูุฃุฑุตุฏุฉ ูู General Ledger โ ูุฌููุน ุงูุฃุฑุตุฏุฉ ูู Trial Balance

**ุงูุณุจุจ ุงููุญุชูู:**
- ูููุฏ ุบูุฑ ูุชูุงุฒูุฉ
- ูููุฏ ูุญุฐููุฉ
- ุฃุฎุทุงุก ูู ุงูุญุณุงุจ

**ุงูุฅุฌุฑุงุก:**
- ุนุฑุถ ุชุญุฐูุฑ ูุงุถุญ
- ุชุณุฌูู ุงูุฎุทุฃ ูู logs
- ุทูุจ ูุฑุงุฌุนุฉ ุงููููุฏ

---

## ๐ ุงููููุงุช

### API
- **ุงูููู:** `app/api/general-ledger/route.ts`
- **ุงููุธููุฉ:** ุญุณุงุจ ุญุฑูุงุช ุงูุญุณุงุจุงุช ูู `journal_entries`

### Frontend
- **ุงูููู:** (ูุญุชุงุฌ ุงูุชุญูู - ูุฏ ูููู ูู `app/journal-entries/page.tsx`)

---

## ๐น ุงูุชุญุณููุงุช ุงููุณุชูุจููุฉ

### Realtime Updates

**ุงููุทููุจ:**
- ุงูุงุดุชุฑุงู ูู ุชุญุฏูุซุงุช `journal_entries`
- ุชุญุฏูุซ ุงูุชูุฑูุฑ ูุญุธููุง ุนูุฏ ุฅุฏุฎุงู/ุชุนุฏูู ููุฏ
- ุฅุนุงุฏุฉ ุงูุชุญูู ูู ุงูุชูุงูู

### ุฏุนู ุงููุฑูุน ููุฑุงูุฒ ุงูุชูููุฉ

**ุงููุทููุจ:**
- ููุชุฑุฉ ุญุณุจ `branch_id`
- ููุชุฑุฉ ุญุณุจ `cost_center_id`
- ุชูุงุฑูุฑ ููุงุฑูุฉ ุจูู ุงููุฑูุน

---

## โ ูุนุงููุฑ ุงูุฌูุฏุฉ

### ุงูุตุญุฉ ุงููุญุงุณุจูุฉ
- โ ุฌููุน ุงูุฃุฑูุงู ูุงุจูุฉ ููุชุชุจุน ุฅูู `journal_entries`
- โ ุงูุชูุงูู ูุน ููุฒุงู ุงููุฑุงุฌุนุฉ ูุญูู
- โ ูุง ุชูุฌุฏ ููู ุซุงุจุชุฉ

### ุงูุงุณุชูุฑุงุฑ ุงูุชููู
- โ ูุง ุชุนุชูุฏ ุนูู ุชุฎุฒูู ูุคูุช
- โ ุญุณุงุจ ุฏููุงูููู ูู ูู ูุฑุฉ
- โ ูุนุงูุฌุฉ ุฃุฎุทุงุก ุดุงููุฉ

### ุงููุทุงุจูุฉ ุงููุนูุงุฑูุฉ
- โ ูุทุงุจู ูู Odoo
- โ ูุทุงุจู ูู Zoho Books
- โ ูุทุงุจู ูู SAP
- โ ูุทุงุจู ูููุนุงููุฑ ุงููุญุงุณุจูุฉ ุงูุฏูููุฉ

---

## ๐ ุณุฌู ุงูุชุบููุฑุงุช

| ุงูุชุงุฑูุฎ | ุงูุชุบููุฑ | ุงููุนุชูุฏ |
|---------|---------|---------|
| 2026-01-25 | ุงุนุชูุงุฏ ููุงุฆู ููููุทู | โ |
| 2026-01-25 | ุฅุถุงูุฉ ุชุนูููุงุช ุชูุถูุญูุฉ | โ |

---

**ุชู ุงูุงุนุชูุงุฏ ุงูููุงุฆู โ**
