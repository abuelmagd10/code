# ๐งช ุฏููู ุงูุงุฎุชุจุงุฑุงุช - ERB VitaSlims

## ๐ ุญุงูุฉ ุงูุงุฎุชุจุงุฑุงุช ุงูุญุงููุฉ
- โ **32 ุงุฎุชุจุงุฑ ุญุฑุฌ** ูุนูู ุจูุฌุงุญ
- โ๏ธ **ุงุฎุชุจุงุฑุงุช ุงูุชูุงูู** ุชุญุชุงุฌ ุฅุนุฏุงุฏ Supabase
- ๐ **GitHub Actions** ุฌุงูุฒ ููุชุดุบูู ุงูุชููุงุฆู

## ๐ ุชุดุบูู ุงูุงุฎุชุจุงุฑุงุช

### ุงูุงุฎุชุจุงุฑุงุช ุงูุฃุณุงุณูุฉ (ุชุนูู ุจุฏูู ุฅุนุฏุงุฏ)
```bash
npm run test:critical    # ุงูุงุฎุชุจุงุฑุงุช ุงูุญุฑุฌุฉ (32 ุงุฎุชุจุงุฑ)
npm test                 # ุฌููุน ุงูุงุฎุชุจุงุฑุงุช
```

### ุงุฎุชุจุงุฑุงุช ุงูุชูุงูู (ุชุญุชุงุฌ Supabase)
```bash
npm run test:integration # ุงุฎุชุจุงุฑุงุช API
npm run test:e2e         # ุงุฎุชุจุงุฑุงุช ุดุงููุฉ
```

## โ๏ธ ุฅุนุฏุงุฏ Supabase ููุงุฎุชุจุงุฑุงุช

### ุงูุทุฑููุฉ ุงูุณุฑูุนุฉ:
```bash
npm run test:setup       # ุณูุฑุดุฏู ููุฎุทูุงุช
```

### ุงูุทุฑููุฉ ุงููุฏููุฉ:
1. ุงุฐูุจ ุฅูู [Supabase Dashboard](https://supabase.com/dashboard)
2. ุฃูุดุฆ ูุดุฑูุน ุฌุฏูุฏ
3. ุงุฐูุจ ุฅูู Settings > API
4. ุงูุณุฎ ุงูููู ุฅูู `.env.local`:
   ```env
   NEXT_PUBLIC_SUPABASE_URL=https://your-project.supabase.co
   NEXT_PUBLIC_SUPABASE_ANON_KEY=eyJ...
   SUPABASE_SERVICE_ROLE_KEY=eyJ...
   ```

## ๐ ุฅุนุฏุงุฏ GitHub Actions
ูุชุดุบูู ุงูุงุฎุชุจุงุฑุงุช ุชููุงุฆูุงู ุนูู GitHub:
1. ุงูุฑุฃ `GITHUB_SECRETS_SETUP.md`
2. ุฃุถู Secrets ูู ุฅุนุฏุงุฏุงุช ุงููุณุชูุฏุน
3. ุงูุงุฎุชุจุงุฑุงุช ุณุชุนูู ุชููุงุฆูุงู ุนูุฏ ูู push

## ๐ ูููู ุงูุงุฎุชุจุงุฑุงุช

```
tests/
โโโ critical/           # ุงุฎุชุจุงุฑุงุช ุญุฑุฌุฉ (ุชุนูู ุจุฏูู DB)
โ   โโโ inventory.test.ts
โ   โโโ invoices.test.ts
โ   โโโ journal.test.ts
โ   โโโ security.test.ts
โ   โโโ equity-governance.test.ts  # ๐ ุงุฎุชุจุงุฑุงุช ุญูููุฉ ุญููู ุงูููููุฉ
โโโ integration/        # ุงุฎุชุจุงุฑุงุช API (ุชุญุชุงุฌ DB)
โ   โโโ api-accounting.test.ts
โ   โโโ api-inventory.test.ts
โ   โโโ api-security.test.ts
โ   โโโ equity-system.test.ts      # ๐ ุงุฎุชุจุงุฑุงุช ูุธุงู ุญููู ุงูููููุฉ
โโโ e2e/               # ุงุฎุชุจุงุฑุงุช ุดุงููุฉ (ุชุญุชุงุฌ DB)
โ   โโโ purchases-workflow.test.ts
โ   โโโ returns-workflow.test.ts
โ   โโโ sales-workflow.test.ts
โโโ helpers/           # ุฃุฏูุงุช ูุณุงุนุฏุฉ
    โโโ test-setup.ts
```

## ๐ฏ ุฃููุงุน ุงูุงุฎุชุจุงุฑุงุช

### ๐ฅ ุงูุงุฎุชุจุงุฑุงุช ุงูุญุฑุฌุฉ
- **ุงูุฃูุงู**: ูุญุต ุตูุงุญูุงุช API
- **ุงููุฎุฒูู**: ููุงุนุฏ ุงููุฎุฒูู ูุงููููุงุช
- **ุงูููุงุชูุฑ**: ููุทู ุงูููุงุชูุฑ ูุงูุญุณุงุจุงุช
- **ุงููููุฏ**: ุชูุงุฒู ุงููููุฏ ุงููุญุงุณุจูุฉ
- **๐ ุญููู ุงูููููุฉ**: ููุงุนุฏ ุงูุญูููุฉ ูุญุณุงุจุงุช ุงูุชูุฒูุน

### ๐ ุงุฎุชุจุงุฑุงุช ุงูุชูุงูู
- **API ุงููุญุงุณุจุฉ**: ุงุฎุชุจุงุฑ endpoints ุงููุญุงุณุจูุฉ
- **API ุงููุฎุฒูู**: ุงุฎุชุจุงุฑ ุนูููุงุช ุงููุฎุฒูู
- **API ุงูุฃูุงู**: ุงุฎุชุจุงุฑ ุงูุญูุงูุฉ ูุงูุตูุงุญูุงุช
- **๐ ูุธุงู ุญููู ุงูููููุฉ**: ุชูุฒูุน ูุตุฑู ุงูุฃุฑุจุงุญ

### ๐ ุงูุงุฎุชุจุงุฑุงุช ุงูุดุงููุฉ
- **ุณูุฑ ุนูู ุงููุจูุนุงุช**: ูู ุงูุทูุจ ุฅูู ุงูุฏูุน
- **ุณูุฑ ุนูู ุงููุดุชุฑูุงุช**: ูู ุงูุทูุจ ุฅูู ุงูุงุณุชูุงู
- **ุณูุฑ ุนูู ุงููุฑุชุฌุนุงุช**: ุงููุฑุชุฌุนุงุช ุงูุฌุฒุฆูุฉ ูุงููุงููุฉ

## ๐ฆ ุงุฎุชุจุงุฑุงุช ูุธุงู ุญููู ุงูููููุฉ (Equity System)

### ุงูุงุฎุชุจุงุฑุงุช ุงูุญุฑุฌุฉ (`equity-governance.test.ts`)
ุชุนูู **ุจุฏูู ูุงุนุฏุฉ ุจูุงูุงุช** - ุชุฎุชุจุฑ ููุทู ุงูุญูููุฉ:
- โ ุงูุชุญูู ูู ุตูุงุญูุฉ ุงูุชูุฒูุน
- โ ุญุณุงุจุงุช ุชูุฒูุน ุงูุฃุฑุจุงุญ ูููุณุงูููู
- โ ููุงุนุฏ ุงูุตุฑู ุงูุฌุฒุฆู
- โ ุชูุงุฒู ุงููููุฏ ุงููุญุงุณุจูุฉ
- โ ุชุญุฏูุฏ ุญุงูุฉ ุณุทูุฑ ุงูุชูุฒูุน

### ุงุฎุชุจุงุฑุงุช ุงูุชูุงูู (`equity-system.test.ts`)
ุชุญุชุงุฌ **ูุงุนุฏุฉ ุจูุงูุงุช Supabase** - ุชุฎุชุจุฑ ุงูุนูููุงุช ุงูุฐุฑูุฉ:
- ๐งช ุณููุงุฑูู 1: ุงูุชุญูู ูู ุฑุตูุฏ ุงูุฃุฑุจุงุญ ุงููุญุชุฌุฒุฉ
- ๐งช ุณููุงุฑูู 2: ุชูุฒูุน ุฃุฑุจุงุญ ุทุจูุนู
- ๐งช ุณููุงุฑูู 3: ูุญุงููุฉ ุชูุฒูุน ุฃูุจุฑ ูู ุงููุชุงุญ (ูุฌุจ ุฃู ุชูุดู)
- ๐งช ุณููุงุฑูู 4: ุตุฑู ุฃุฑุจุงุญ ููุณุงูู (Full Payment)
- ๐งช ุณููุงุฑูู 5: ุตุฑู ุฌุฒุฆู ููุฃุฑุจุงุญ
- ๐งช ุณููุงุฑูู 6: ุงูุชุญูู ูู Atomic Rollback

### ุชุดุบูู ุงุฎุชุจุงุฑุงุช ุญููู ุงูููููุฉ:
```bash
# ุงูุงุฎุชุจุงุฑุงุช ุงูุญุฑุฌุฉ ููุท (ุจุฏูู DB)
npm run test:critical -- equity

# ุงุฎุชุจุงุฑุงุช ุงูุชูุงูู (ุชุญุชุงุฌ DB)
npm run test:integration -- equity
```

## ๐ ุชูุงุฑูุฑ ุงูุชุบุทูุฉ
```bash
npm run test:coverage   # ุชูุฑูุฑ ุชุบุทูุฉ ุงูููุฏ
```

## ๐ ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ุฅุฐุง ูุดูุช ุงูุงุฎุชุจุงุฑุงุช ุงูุญุฑุฌุฉ:
- ุชุญูู ูู ููุทู ุงูููุฏ
- ุฑุงุฌุน ุฑุณุงุฆู ุงูุฎุทุฃ
- ุชุฃูุฏ ูู ุตุญุฉ ุงูุจูุงูุงุช ุงูุงุฎุชุจุงุฑูุฉ

### ุฅุฐุง ูุดูุช ุงุฎุชุจุงุฑุงุช ุงูุชูุงูู:
- ุชุญูู ูู ุฅุนุฏุงุฏุงุช Supabase
- ุชุฃูุฏ ูู ุตุญุฉ ุงูููุงุชูุญ ูู `.env.local`
- ุชุญูู ูู ุญุงูุฉ ูุงุนุฏุฉ ุงูุจูุงูุงุช

### ุฅุฐุง ูุดูุช GitHub Actions:
- ุชุญูู ูู GitHub Secrets
- ุฑุงุฌุน logs ูู ุชุจููุจ Actions
- ุชุฃูุฏ ูู ุชุทุงุจู ุฃุณูุงุก ุงููุชุบูุฑุงุช

## ๐ ุงููุฌุงุญ ุงููุชููุน
ุนูุฏ ุงูุฅุนุฏุงุฏ ุงูุตุญูุญ:
- โ 32+ ุงุฎุชุจุงุฑ ุญุฑุฌ ููุฌุญ
- โ ุงุฎุชุจุงุฑุงุช ุงูุชูุงูู ุชุนูู
- โ GitHub Actions ุฎุถุฑุงุก
- โ ุชูุงุฑูุฑ ุงูุชุบุทูุฉ ูุชุงุญุฉ

