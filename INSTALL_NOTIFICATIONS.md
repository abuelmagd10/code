# ๐ ุฏููู ุชุซุจูุช ูุธุงู ุงูุฅุดุนุงุฑุงุช

## ุงููุดููุฉ
ุฎุทุฃ 404 ุนูุฏ ูุญุงููุฉ ุงููุตูู ุฅูู ุฌุฏูู `notifications` - ุงูุฌุฏูู ุบูุฑ ููุฌูุฏ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช.

## ุงูุญู ุงูุณุฑูุน (ุงูุฃุณูู) โก

### ุงูุทุฑููุฉ 1: ุงุณุชุฎุฏุงู Supabase Dashboard (ูููุตู ุจูุง)

1. **ุงูุชุญ Supabase Dashboard**
   - ุงุฐูุจ ุฅูู: https://supabase.com/dashboard
   - ุงุฎุชุฑ ูุดุฑูุนู

2. **ุงูุชุญ SQL Editor**
   - ูู ุงููุงุฆูุฉ ุงูุฌุงูุจูุฉ: **SQL Editor**
   - ุงููุฑ ุนูู **"New query"**

3. **ุงูุณุฎ ูุงูุตู SQL**
   - ุงูุชุญ ุงูููู: `scripts/create_notifications_table.sql`
   - ุงูุณุฎ **ุฌููุน** ุงููุญุชูู (Ctrl+A ุซู Ctrl+C)
   - ุงูุตูู ูู SQL Editor (Ctrl+V)

4. **ุดุบูู ุงูู Script**
   - ุงููุฑ ุนูู **"Run"** ุฃู ุงุถุบุท `Ctrl+Enter`

5. **ุชุญูู ูู ุงููุชูุฌุฉ**
   - ูุฌุจ ุฃู ุชุฑู ุฑุณุงูุฉ: `โ Notifications table and functions created successfully!`

---

## ุงูุทุฑููุฉ 2: ุงุณุชุฎุฏุงู Node.js Script (ูุชูุฏู)

ุฅุฐุง ูุงู ูุฏูู `SUPABASE_SERVICE_ROLE_KEY` ูู ูุชุบูุฑุงุช ุงูุจูุฆุฉ:

```bash
# ุชุฃูุฏ ูู ูุฌูุฏ ุงููุชุบูุฑุงุช ูู .env.local
NEXT_PUBLIC_SUPABASE_URL=your_url
SUPABASE_SERVICE_ROLE_KEY=your_service_role_key

# ุดุบูู ุงูู script
node scripts/install-notifications.js
```

**ููุงุญุธุฉ:** ูุฐู ุงูุทุฑููุฉ ูุฏ ูุง ุชุนูู ุฅุฐุง ูู ููู ูุฏูู service role key ุฃู ุฅุฐุง ูุงูุช Supabase ุชููุน ุชูููุฐ SQL ุงููุจุงุดุฑ.

---

## ูุง ุงูุฐู ูุชู ุฅูุดุงุคูุ

โ **ุฌุฏูู `notifications`** - ูุชุฎุฒูู ุฌููุน ุงูุฅุดุนุงุฑุงุช
โ **RLS Policies** - ุฃูุงู ุนูู ูุณุชูู ุงูุตููู
โ **ุฏุงูุฉ `create_notification`** - ูุฅูุดุงุก ุฅุดุนุงุฑุงุช ุฌุฏูุฏุฉ
โ **ุฏุงูุฉ `get_user_notifications`** - ูุฌูุจ ุฅุดุนุงุฑุงุช ุงููุณุชุฎุฏู
โ **ุฏุงูุฉ `mark_notification_as_read`** - ูุชุญุฏูุฏ ุงูุฅุดุนุงุฑ ูููุฑูุก
โ **ููุงุฑุณ** - ูุชุญุณูู ุงูุฃุฏุงุก

---

## ุงูุชุญูู ูู ุงูุชุซุจูุช

ุจุนุฏ ุชุดุบูู SQLุ ุชุญูู ูู:

1. **ุงูุชุญ Supabase Dashboard โ Table Editor**
2. **ุงุจุญุซ ุนู ุฌุฏูู `notifications`**
3. **ูุฌุจ ุฃู ุชุฑุงู ูู ุงููุงุฆูุฉ**

ุฃู ุดุบูู ูุฐุง ุงูุงุณุชุนูุงู:

```sql
SELECT COUNT(*) FROM notifications;
```

---

## ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ุฎุทุฃ: "relation notifications does not exist"
- **ุงูุญู:** ุชุฃูุฏ ูู ุชุดุบูู SQL script ุจุงููุงูู

### ุฎุทุฃ: "permission denied"
- **ุงูุญู:** ุชุฃูุฏ ูู ุงุณุชุฎุฏุงู ุญุณุงุจ Admin ูู Supabase Dashboard

### ุฎุทุฃ: "syntax error"
- **ุงูุญู:** ุชุฃูุฏ ูู ูุณุฎ SQL ุจุงููุงูู ุจุฏูู ุชุนุฏูู

---

## ุงููููุงุช ุงููุทููุจุฉ

- โ `scripts/create_notifications_table.sql` - SQL script ูุงูู
- โ `scripts/install-notifications.js` - Node.js script (ุงุฎุชูุงุฑู)

---

## ุจุนุฏ ุงูุชุซุจูุช

ุจุนุฏ ุชุดุบูู SQL ุจูุฌุงุญ:
1. โ ุฃุนุฏ ุชุญููู ุงูุตูุญุฉ ูู ุงููุชุตูุญ
2. โ ูุฌุจ ุฃู ุชุฎุชูู ุฑุณุงูุฉ ุงูุฎุทุฃ 404
3. โ ูุฌุจ ุฃู ุชุธูุฑ ุฃููููุฉ Bell ูู Sidebar
4. โ ูุฌุจ ุฃู ูุนูู Notification Center ุจุดูู ุตุญูุญ

---

## ุงูุฏุนู

ุฅุฐุง ูุงุฌูุช ุฃู ูุดุงูู:
1. ุชุญูู ูู console ูู ุงููุชุตูุญ
2. ุชุญูู ูู Supabase Logs
3. ุชุฃูุฏ ูู ุชุดุบูู SQL ุจุงููุงูู
