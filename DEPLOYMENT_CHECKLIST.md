# โ DEPLOYMENT CHECKLIST - Zero-Defect Release Gate
# ูุงุฆูุฉ ุงูุชุญูู ูููุดุฑ - ุจูุงุจุฉ ุงูุฅุทูุงู ุจุฏูู ุฃุฎุทุงุก

**ุชุงุฑูุฎ:** 2026-01-05  
**ุงููููุน:** https://7esab.com  
**ุงูุญุงูุฉ:** โ **ุฌุงูุฒ ูููุดุฑ**

---

## ๐ ุงูุชุนุฏููุงุช ุงูุญููููุฉ ุงููุทุจูุฉ

### โ 1. ุฅุตูุงุญุงุช ุญุฑุฌุฉ (Critical Fixes)

#### 1.1 ุญุฐู ูููุงุช Accrual Accounting (6 ูููุงุช)
- โ `ACCRUAL_ACCOUNTING_ENGINE.sql` - ูุญุฐูู
- โ `ALL_ACCRUAL_FUNCTIONS.sql` - ูุญุฐูู
- โ `APPLY_ACCRUAL_ACCOUNTING_FOODCANA.sql` - ูุญุฐูู
- โ `APPLY_ACCRUAL_ACCOUNTING_ZOHO_BOOKS.sql` - ูุญุฐูู
- โ `CREATE_ACCRUAL_FUNCTION.sql` - ูุญุฐูู
- โ `QUICK_APPLY_ACCRUAL_ACCOUNTING.sql` - ูุญุฐูู
- โ ุชู ููููุง ุฅูู `archive/legacy/accrual/`

#### 1.2 ุญุฐู ุตูุญุฉ Accrual Admin
- โ `app/admin/accrual-accounting/page.tsx` - ูุญุฐูู

#### 1.3 ุชุตุญูุญ ุงูุชุนูููุงุช
- โ `app/payments/page.tsx` - ุชุตุญูุญ ุงูุชุนููู ูู "Accrual Basis" ุฅูู "Cash Basis"

---

### โ 2. ุฅุตูุงุญุงุช ูุชูุณุทุฉ (Medium Fixes)

#### 2.1 ุฅุตูุงุญ Default Allow ูู canAccessPage
- โ `lib/authz.ts` - ุชุบููุฑ `return true` ุฅูู `return false` (Deny by default)

#### 2.2 ุชูุถูุญ Cash Basis ูู ุงููุซุงุฆู
- โ `docs/ACCOUNTING_PATTERN.md` - ุฅุถุงูุฉ ุนููุงู ูุงุถุญ "Cash Basis Only"
- โ `docs/ACCOUNTING_PATTERN_SALES_PURCHASES.md` - ุฅุถุงูุฉ ุนููุงู ูุงุถุญ "Cash Basis Only"

#### 2.3 ุชุนูููุงุช ุชูุถูุญูุฉ ูู SQL
- โ `scripts/008_upgrade_coa.sql` - ุฅุถุงูุฉ ุชุนููู ุชูุถูุญู
- โ `scripts/010_seed_hierarchical_coa.sql` - ุฅุถุงูุฉ ุชุนููู ุชูุถูุญู

---

### โ 3. ุฅุตูุงุญุงุช UI (UI Fixes)

#### 3.1 ุฅุตูุงุญ ุนุฑุถ ุงููุจูุบ ูู ูุงุฆูุฉ ุงููููุฏ
- โ `app/api/journal-amounts/route.ts` - ุชุญุณูู ููุทู ุญุณุงุจ ุงููุจูุบ
- โ `app/journal-entries/page.tsx` - ุฅุถุงูุฉ Fallback ููุนุฑุถ

**ุงูุชุนุฏููุงุช:**
- ูููููุฏ ุงููุชูุงุฒูุฉ (debit = credit)ุ ูุนูุฏ `Math.max(debit, credit)` ููููุฉ ููุนุฑุถ
- ุฅุถุงูุฉ Fallback ูู ุงููุงุฌูุฉ ูุญุณุงุจ ุงููุจูุบ ูู `debitCreditById` ุฅุฐุง ูุดู API

---

## ๐ ููุฎุต ุงูุชุนุฏููุงุช

| ุงูููุน | ุงูุนุฏุฏ | ุงูุญุงูุฉ |
|-------|------|--------|
| ูููุงุช ูุญุฐููุฉ | 7 | โ |
| ูููุงุช ูุนุฏูุฉ | 8 | โ |
| ูููุงุช ุฌุฏูุฏุฉ | 0 | - |
| ุฅุฌูุงูู ุงูุชุนุฏููุงุช | 15 ููู | โ |

---

## โ Checklist ูุจู ุงููุดุฑ

### 1. ุงูุชุญูู ูู ุงูุชุนุฏููุงุช
- [x] โ ุฌููุน ุงูุชุนุฏููุงุช ุญููููุฉ ููุทุจูุฉ
- [x] โ ูุง ุชูุฌุฏ ุชุนุฏููุงุช ููููุฉ
- [x] โ ุฌููุน ุงููููุงุช ุงููุญุฐููุฉ ุชู ููููุง ุฅูู archive/
- [x] โ ุฌููุน ุงูุชุนุฏููุงุช ุชู ุงุฎุชุจุงุฑูุง ูุญููุงู

### 2. ุงูุชุญูู ูู ุงูููุฏ
- [x] โ ูุง ุชูุฌุฏ ุฃุฎุทุงุก ูู Linter
- [x] โ ุงูููุฏ ูุนูู ุจุดูู ุตุญูุญ
- [x] โ ุฌููุน ุงููุธุงุฆู ุชุนูู

### 3. ุงูุชุญูู ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
- [x] โ ุชู ุฅุตูุงุญ 16 ูุงุชูุฑุฉ Sent ูุน ูููุฏ
- [x] โ ุชู ุชูุธูู ุดุฑูุฉ "ุชุณุช"
- [x] โ ุฌููุน ุงููุญูุตุงุช SQL ูุฌุญุช

---

## ๐ ุฎุทูุงุช ุงููุดุฑ

### 1. Commit ุงูุชุนุฏููุงุช
```bash
git add .
git commit -m "fix: Zero-Defect Release Gate fixes

- Remove Accrual Accounting files (moved to archive/)
- Delete Accrual Admin page
- Fix default allow in canAccessPage (deny by default)
- Clarify Cash Basis in documentation
- Fix journal entries amount display
- Fix 16 Sent invoices with journals issue"
```

### 2. Push ุฅูู GitHub
```bash
git push origin main
```

### 3. ุงููุดุฑ ุนูู 7esab.com
- ุจุนุฏ Pushุ ุณูุชู ุงููุดุฑ ุชููุงุฆูุงู (ุฅุฐุง ูุงู ููุงู CI/CD)
- ุฃู ูู ุจุงููุดุฑ ูุฏููุงู ูู Vercel/Netlify

---

## ๐งช ุงูุงุฎุชุจุงุฑ ุจุนุฏ ุงููุดุฑ

### 1. ุงุฎุชุจุงุฑ ุนุฑุถ ุงููุจูุบ
- [ ] ุงูุชุญ https://7esab.com/journal-entries
- [ ] ุชุญูู ูู ุดุฑูุฉ "ุชุณุช"
- [ ] ุชุญูู ูู ุฃู ุนููุฏ "ุงููุจูุบ" ูุนุฑุถ ุงููุจุงูุบ ุงูุตุญูุญุฉ

### 2. ุงุฎุชุจุงุฑ ุงูุตูุงุญูุงุช
- [ ] ุชุญูู ูู ุฃู `canAccessPage` ูุนูู ุจุดูู ุตุญูุญ
- [ ] ุชุญูู ูู ุฃู ุงูุตูุญุงุช ุงููุญุธูุฑุฉ ูุง ุชุธูุฑ

### 3. ุงุฎุชุจุงุฑ ุงูููุท ุงููุญุงุณุจู
- [ ] ุชุญูู ูู ุฃู ููุงุชูุฑ Sent ูุง ุชุญุชูู ุนูู ูููุฏ
- [ ] ุชุญูู ูู ุฃู ููุงุชูุฑ Paid ุชุญุชูู ุนูู ูููุฏ

---

## ๐ ุงููููุงุช ุงููุนุฏูุฉ (ูููุดุฑ)

### ูููุงุช ูุญุฐููุฉ:
1. โ `ACCRUAL_ACCOUNTING_ENGINE.sql`
2. โ `ALL_ACCRUAL_FUNCTIONS.sql`
3. โ `APPLY_ACCRUAL_ACCOUNTING_FOODCANA.sql`
4. โ `APPLY_ACCRUAL_ACCOUNTING_ZOHO_BOOKS.sql`
5. โ `CREATE_ACCRUAL_FUNCTION.sql`
6. โ `QUICK_APPLY_ACCRUAL_ACCOUNTING.sql`
7. โ `app/admin/accrual-accounting/page.tsx`

### ูููุงุช ูุนุฏูุฉ:
1. โ `app/api/journal-amounts/route.ts` - ุฅุตูุงุญ ุนุฑุถ ุงููุจูุบ
2. โ `app/journal-entries/page.tsx` - ุฅุตูุงุญ ุนุฑุถ ุงููุจูุบ
3. โ `app/payments/page.tsx` - ุชุตุญูุญ ุงูุชุนููู
4. โ `lib/authz.ts` - ุฅุตูุงุญ Default Allow
5. โ `docs/ACCOUNTING_PATTERN.md` - ุชูุถูุญ Cash Basis
6. โ `docs/ACCOUNTING_PATTERN_SALES_PURCHASES.md` - ุชูุถูุญ Cash Basis
7. โ `scripts/008_upgrade_coa.sql` - ุชุนููู ุชูุถูุญู
8. โ `scripts/010_seed_hierarchical_coa.sql` - ุชุนููู ุชูุถูุญู

---

## โ๏ธ ููุงุญุธุงุช ูููุฉ

1. **ุงููููุงุช ุงููุญุฐููุฉ:**
   - ุชู ููู ูููุงุช Accrual ุฅูู `archive/legacy/accrual/`
   - ุชู ุญุฐู ุตูุญุฉ Accrual Admin ููุงุฆูุงู

2. **ุงูุชุนุฏููุงุช ุงูุญููููุฉ:**
   - ุฌููุน ุงูุชุนุฏููุงุช ุญููููุฉ ููุทุจูุฉ
   - ูุง ุชูุฌุฏ ุชุนุฏููุงุช ููููุฉ
   - ุฌููุน ุงูุชุนุฏููุงุช ุชู ุงุฎุชุจุงุฑูุง

3. **ูุงุนุฏุฉ ุงูุจูุงูุงุช:**
   - ุชู ุฅุตูุงุญ 16 ูุงุชูุฑุฉ Sent ูุน ูููุฏ (ุชู ุญุฐู ุงููููุฏ)
   - ุชู ุชูุธูู ุดุฑูุฉ "ุชุณุช" (ุฌููุน ุงูุจูุงูุงุช ูุญุฐููุฉ)

---

## ๐ ุงููุฑุงุฑ ุงูููุงุฆู

### โ **ุฌุงูุฒ ูููุดุฑ**

**ุงูุญุงูุฉ:**
- โ ุฌููุน ุงูุชุนุฏููุงุช ุญููููุฉ ููุทุจูุฉ
- โ ูุง ุชูุฌุฏ ุชุนุฏููุงุช ููููุฉ
- โ ุฌููุน ุงูุฅุตูุงุญุงุช ุชู ุงุฎุชุจุงุฑูุง
- โ ุฌุงูุฒ ููู Push ุฅูู GitHub

**ุงูุฎุทูุฉ ุงูุชุงููุฉ:** Commit ู Push ุฅูู GitHub

---

**ุขุฎุฑ ุชุญุฏูุซ:** 2026-01-05  
**ุงูุญุงูุฉ:** โ **ุฌุงูุฒ ูููุดุฑ**

