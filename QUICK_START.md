# تطبيق نظام الحوكمة - خطوات سريعة

## الخطوة 1: نفذ SQL في Supabase

1. افتح Supabase Dashboard
2. اذهب إلى SQL Editor
3. انسخ محتوى ملف `update-governance-clean.sql`
4. نفذ الاستعلام

## الخطوة 2: تحقق من النتائج

يجب أن ترى نتيجة مثل:

```
table_name    | total | with_branch | with_warehouse | with_creator | branch_percentage
--------------+-------+-------------+----------------+--------------+------------------
sales_orders  |   60  |     60      |      60        |      60      |      100.00
invoices      |   45  |     45      |      45        |      45      |      100.00
```

إذا كانت النسبة 100% لجميع الحقول، فالتحديث نجح ✅

## الخطوة 3: اختبر النظام

### اختبار سريع:
1. سجل دخول كموظف (staff)
2. اذهب لصفحة أوامر البيع
3. يجب أن ترى أوامرك فقط

### اختبار المدير:
1. سجل دخول كمدير (owner/admin)
2. اذهب لصفحة أوامر البيع
3. يجب أن ترى جميع الأوامر

## ملاحظات مهمة

- ✅ API أوامر البيع: `/api/sales-orders`
- ✅ API الفواتير: `/api/invoices`
- ✅ نظام الحوكمة مطبق تلقائياً
- ✅ الفلاتر تعمل حسب الدور

## في حالة وجود مشاكل

راجع الملفات:
- `GOVERNANCE_IMPLEMENTATION.md` - دليل كامل
- `TESTING_GUIDE.md` - اختبارات مفصلة
- `GOVERNANCE_REVIEW.md` - مراجعة شاملة
