# ๐งน ุชูุธูู ูุงูู ูุดุฑูุฉ ุงูุงุฎุชุจุงุฑ "ุชุณุช"
# Complete Cleanup for Test Company "ุชุณุช"

**ุชุงุฑูุฎ:** 2026-01-05  
**ุงููุฏู:** ุชูุธูู ูุงูู ูุฌููุน ุงูุจูุงูุงุช ุงููุชุนููุฉ ุจุดุฑูุฉ "ุชุณุช" ููุงุฎุชุจุงุฑ ุงููุฏูู

---

## ๐ ูุง ุณูุชู ุญุฐูู

### โ 1. ุงูููุงุชูุฑ ูุงูุทูุจุงุช
- โ ุฌููุน ููุงุชูุฑ ุงูุจูุน (Draft, Sent, Paid)
- โ ุฌููุน ููุงุชูุฑ ุงูุดุฑุงุก (PO, Bill, Received, Paid)
- โ ุฌููุน ุฃูุงูุฑ ุงูุจูุน (Sales Orders)
- โ ุฌููุน ุฃูุงูุฑ ุงูุดุฑุงุก (Purchase Orders)
- โ ุฌููุน ุณุทูุฑ ุงูููุงุชูุฑ ูุงูุทูุจุงุช

### โ 2. ุงููุฑุชุฌุนุงุช
- โ ุฌููุน ูุฑุชุฌุนุงุช ุงููุจูุนุงุช (Sales Returns)
- โ ุฌููุน ูุฑุชุฌุนุงุช ุงููุดุชุฑูุงุช (Purchase Returns)
- โ ุฌููุน ุฅุดุนุงุฑุงุช ุงูุฏุงุฆู (Vendor Credits)

### โ 3. ุงููููุฏ ุงููุญุงุณุจูุฉ
- โ ุฌููุน ุงููููุฏ ุงููุญุงุณุจูุฉ ุงููุฑุชุจุทุฉ ุจุงูููุงุชูุฑ
- โ ุฌููุน ุงููููุฏ ุงููุญุงุณุจูุฉ ุงููุฑุชุจุทุฉ ุจุงููุฏููุนุงุช
- โ ุฌููุน ุงููููุฏ ุงููุญุงุณุจูุฉ ุงููุฑุชุจุทุฉ ุจุงููุฑุชุฌุนุงุช
- โ ุฌููุน ุณุทูุฑ ุงููููุฏ ุงููุญุงุณุจูุฉ

### โ 4. ุงููุฏููุนุงุช
- โ ุฌููุน ุงููุฏููุนุงุช ุงููุฑุชุจุทุฉ ุจุงูููุงุชูุฑ

### โ 5. ุงููุฎุฒูู (ุงูุฃูู)
- โ **ุฌููุน ุญุฑูุงุช ุงููุฎุฒูู** (inventory_transactions)
- โ **ุฅุนุงุฏุฉ ุชุนููู ุงููุฎุฒูู ุฅูู ุตูุฑ** ูุฌููุน ุงูููุชุฌุงุช
- โ ุญุฐู ุฅููุงูุงุช ุงููุฎุฒูู (Inventory Write-offs)
- โ ุญุฐู ูุฎุฒูู ุงููุณุชูุฏุนุงุช (ุฅุฐุง ูุงู ููุฌูุฏุงู)
- โ ุญุฐู ุญุฑูุงุช ุงููุณุชูุฏุนุงุช (ุฅุฐุง ูุงูุช ููุฌูุฏุฉ)

---

## ๐ ุฎุทูุงุช ุงูุชูููุฐ

### 1. ูุชุญ Supabase SQL Editor
- ุงูุชุญ Supabase Dashboard
- ุงุฐูุจ ุฅูู SQL Editor
- ุฃูุดุฆ Query ุฌุฏูุฏ

### 2. ูุณุฎ ููุตู ุงูุณูุฑูุจุช
- ุงูุชุญ ููู `scripts/cleanup-test-company-complete.sql`
- ุงูุณุฎ ุงููุญุชูู ุจุงููุงูู
- ุงูุตูู ูู SQL Editor

### 3. ุชูููุฐ ุงูุณูุฑูุจุช
- ุงุถุบุท ุนูู "Run" ุฃู "Execute"
- ุงูุชุธุฑ ุญุชู ููุชูู ุงูุชูููุฐ
- ุฑุงุฌุน ุงูุฑุณุงุฆู (NOTICE messages) ููุชุฃูุฏ ูู ูุฌุงุญ ุงูุนูููุฉ

### 4. ุงูุชุญูู ูู ุงููุชูุฌุฉ
- ูู ููุงูุฉ ุงูุณูุฑูุจุชุ ุณุชุฌุฏ ุงุณุชุนูุงูุงุช ุงูุชุญูู
- ุชุฃูุฏ ูู ุฃู ุฌููุน ุงูุฃุฑูุงู = 0

---

## ๐ ุงูุชุญูู ูู ุงููุชูุฌุฉ

ุจุนุฏ ุงูุชูููุฐุ ูุฌุจ ุฃู ุชููู ุฌููุน ุงูุฃุฑูุงู = 0:

| ุงููุฆุฉ | ุงูุนุฏุฏ ุงููุชุจูู |
|-------|---------------|
| Invoices | 0 |
| Bills | 0 |
| Journal Entries (Invoice/Bill related) | 0 |
| Sales Returns | 0 |
| Purchase Returns | 0 |
| Inventory Transactions | 0 |
| Products with Stock > 0 | 0 |

---

## โ๏ธ ุชุญุฐูุฑุงุช ูููุฉ

### 1. ุงูุดุฑูุฉ ุงููุณุชูุฏูุฉ
- โ ุงูุณูุฑูุจุช ูุณุชูุฏู **ุดุฑูุฉ "ุชุณุช" ููุท**
- โ ูู ูุคุซุฑ ุนูู ุฃู ุดุฑูุฉ ุฃุฎุฑู

### 2. ุงูุจูุงูุงุช ุงููุญููุธุฉ
- โ **ูู ูุชู ุญุฐู:**
  - ุงูุนููุงุก (Customers)
  - ุงูููุฑุฏูู (Suppliers)
  - ุงูููุชุฌุงุช (Products) - ููู ุงููุฎุฒูู ุณูุตุจุญ 0
  - ุฏููู ุงูุญุณุงุจุงุช (Chart of Accounts)
  - ุงููููุฏ ุงููุญุงุณุจูุฉ ุงูุฃุฎุฑู (ูุซู capital_contribution)

### 3. ุงูู Triggers
- โ ุงูุณูุฑูุจุช ูุนุทู `trg_prevent_posted_journal_modification` ูุคูุชุงู
- โ ูุนูุฏ ุชูุนููู ุจุนุฏ ุงูุญุฐู

---

## ๐ ูุง ุจุนุฏ ุงูุชูููุฐ

### 1. ุงูุชุญูู ูู ุงููุฎุฒูู
```sql
-- ุงูุชุญูู ูู ุฃู ุฌููุน ุงูููุชุฌุงุช ูุฏููุง ูุฎุฒูู = 0
SELECT 
  name,
  sku,
  quantity_on_hand
FROM products
WHERE company_id = (SELECT id FROM companies WHERE name = 'ุชุณุช' LIMIT 1)
  AND quantity_on_hand > 0;
```

### 2. ุงูุชุญูู ูู ุงูููุงุชูุฑ
```sql
-- ุงูุชุญูู ูู ุนุฏู ูุฌูุฏ ููุงุชูุฑ
SELECT COUNT(*) as invoice_count
FROM invoices
WHERE company_id = (SELECT id FROM companies WHERE name = 'ุชุณุช' LIMIT 1);
```

### 3. ุงูุชุญูู ูู ุงููููุฏ
```sql
-- ุงูุชุญูู ูู ุนุฏู ูุฌูุฏ ูููุฏ ูุฑุชุจุทุฉ ุจุงูููุงุชูุฑ
SELECT COUNT(*) as journal_count
FROM journal_entries
WHERE company_id = (SELECT id FROM companies WHERE name = 'ุชุณุช' LIMIT 1)
  AND reference_type IN (
    'invoice', 'invoice_payment', 'bill', 'bill_payment',
    'sales_return', 'purchase_return'
  );
```

---

## โ Checklist ุจุนุฏ ุงูุชูููุฐ

- [ ] โ ุชู ุชูููุฐ ุงูุณูุฑูุจุช ุจูุฌุงุญ
- [ ] โ ุฌููุน ุงูุฃุฑูุงู ูู ุงูุชุญูู = 0
- [ ] โ ุงููุฎุฒูู = 0 ูุฌููุน ุงูููุชุฌุงุช
- [ ] โ ูุง ุชูุฌุฏ ููุงุชูุฑ ูุชุจููุฉ
- [ ] โ ูุง ุชูุฌุฏ ูููุฏ ูุญุงุณุจูุฉ ูุฑุชุจุทุฉ ุจุงูููุงุชูุฑ
- [ ] โ ูุง ุชูุฌุฏ ุญุฑูุงุช ูุฎุฒูู ูุชุจููุฉ
- [ ] โ ุฌุงูุฒ ููุงุฎุชุจุงุฑ ุงููุฏูู

---

## ๐ ุงููููุงุช

- **ุงูุณูุฑูุจุช:** `scripts/cleanup-test-company-complete.sql`
- **ุงูุชุนูููุงุช:** `CLEANUP_TEST_COMPANY_FINAL_INSTRUCTIONS.md`

---

## ๐ ุงููุชูุฌุฉ ุงููุชููุนุฉ

ุจุนุฏ ุงูุชูููุฐ ุงููุงุฌุญ:
- โ ุดุฑูุฉ "ุชุณุช" ูุธููุฉ ุชูุงูุงู
- โ ุฌููุน ุงูุจูุงูุงุช ุงูุชุฌุฑูุจูุฉ ูุญุฐููุฉ
- โ ุงููุฎุฒูู = 0 ูุฌููุน ุงูููุชุฌุงุช
- โ ุฌุงูุฒุฉ ููุงุฎุชุจุงุฑ ุงููุฏูู ูู ุงูุตูุฑ

---

**ุขุฎุฑ ุชุญุฏูุซ:** 2026-01-05  
**ุงูุญุงูุฉ:** โ **ุฌุงูุฒ ููุชูููุฐ**

