# ๐ ุฏููู ุงููุฑุงุฌุนุฉ ุงููุญุงุณุจูุฉ ุงูุดุงููุฉ
# Comprehensive Accounting Audit Guide

**ุชุงุฑูุฎ ุงูุฅูุดุงุก:** 2025-01-XX  
**ุงููุฏู:** ูุฑุงุฌุนุฉ ุดุงููุฉ ูุฌููุน ุงูุฌูุงูุจ ุงููุญุงุณุจูุฉ ูุงูุชูููุฉ ูููุธุงู ERP

---

## ๐ ุงููุญุชููุงุช

1. [ูุธุฑุฉ ุนุงูุฉ](#ูุธุฑุฉ-ุนุงูุฉ)
2. [ุงููุชุทูุจุงุช](#ุงููุชุทูุจุงุช)
3. [ุทุฑููุฉ ุงูุชูููุฐ](#ุทุฑููุฉ-ุงูุชูููุฐ)
4. [ุฃูุณุงู ุงููุฑุงุฌุนุฉ](#ุฃูุณุงู-ุงููุฑุงุฌุนุฉ)
5. [ูุฑุงุกุฉ ุงูุชูุงุฑูุฑ](#ูุฑุงุกุฉ-ุงูุชูุงุฑูุฑ)
6. [ุญู ุงููุดุงูู](#ุญู-ุงููุดุงูู)

---

## ๐ ูุธุฑุฉ ุนุงูุฉ

ูุฐุง ุงูุฏููู ูุดุฑุญ ููููุฉ ุชูููุฐ ุงููุฑุงุฌุนุฉ ุงููุญุงุณุจูุฉ ุงูุดุงููุฉ ูููุธุงูุ ูุงูุชู ุชุบุทู:

- โ **1๏ธโฃ ุงููุฑุงุฌุนุฉ ุงููุญุงุณุจูุฉ ุงูุดุงููุฉ**
  - ุงูุชุญูู ูู ุงููููุฏ ุงููุญุงุณุจูุฉ (Double-entry balance)
  - ูุฑุงุฌุนุฉ ุงูุญุณุงุจุงุช (ุงูุนููุงุกุ ุงูููุฑุฏููุ ุงูุจููุ ุงูููุฏูุฉ)
  - ุชุทุงุจู ูุน Zoho Books (ุชุตููู ุงูุญุณุงุจุงุชุ ุงูุฅูุฑุงุฏุงุชุ ุงููุตุฑููุงุช)

- โ **2๏ธโฃ ูุฑุงุฌุนุฉ ูุงุนุฏุฉ ุงูุจูุงูุงุช**
  - ุชูุงูู ุงูุจูุงูุงุช (ุงูุชูุฑุงุฑุงุชุ ุงููููุฏ ุงููุงูุตุฉ)
  - ุงูุงุชุณุงู ุงูุฏุงุฎูู (Foreign Keysุ ุฃุฑุตุฏุฉ ุงูุญุณุงุจุงุช)
  - ุงูุชุญูู ูู ุฃููุงุน ุงูุจูุงูุงุช (ุงููุจุงูุบ ุงููุงููุฉุ ุงูุชูุงุฑูุฎ)

- โ **3๏ธโฃ ุงููุฑุงุฌุนุฉ ุงูุชูููุฉ**
  - ุงูุชุญูู ูู ุงููุงุฌูุงุช ูุงููุธุงุฆู
  - ุฅุฏุงุฑุฉ ุงููุณุชุฎุฏููู ูุงูุตูุงุญูุงุช
  - ุงูุชูุงุฑูุฑ ุงููุงููุฉ

- โ **4๏ธโฃ ุฎุทูุงุช ุนูููุฉ ููุชุญูู ุงูููุงุฆู**
  - ุชูุฑูุฑ ุชุณููุฉ ุดุงูู
  - ูุฑุงุฌุนุฉ ุงููููุฏ ุงููุฏููุฉ ูุงูุฌุฏูุฏุฉ
  - ููุงุฑูุฉ ูุน Zoho Books
  - ุงุฎุชุจุงุฑ ุงูุชูุงุฑูุฑ ูุงูุชุฏููุงุช ุงูููุฏูุฉ

---

## ๐ง ุงููุชุทูุจุงุช

### 1. ูุชุบูุฑุงุช ุงูุจูุฆุฉ

ุชุฃูุฏ ูู ูุฌูุฏ ุงูููู `.env.local` ูู ุฌุฐุฑ ุงููุดุฑูุน ูุน ุงููุชุบูุฑุงุช ุงูุชุงููุฉ:

```env
NEXT_PUBLIC_SUPABASE_URL=https://your-project.supabase.co
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key
```

### 2. ุงูุตูุงุญูุงุช

- **Service Role Key**: ูุทููุจ ูููุตูู ุงููุงูู ุฅูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
- **ุตูุงุญูุงุช ูุงุนุฏุฉ ุงูุจูุงูุงุช**: ูุฌุจ ุฃู ูููู ูุฏูู ุตูุงุญูุงุช ูุฑุงุกุฉ ุนูู ุฌููุน ุงูุฌุฏุงูู

---

## ๐ ุทุฑููุฉ ุงูุชูููุฐ

### ุงูุทุฑููุฉ 1: ุงุณุชุฎุฏุงู ุณูุฑุจุช Node.js (ููุตู ุจูุง)

```bash
# ุชูููุฐ ุงููุฑุงุฌุนุฉ ูุฌููุน ุงูุดุฑูุงุช
npm run audit:comprehensive

# ุชูููุฐ ุงููุฑุงุฌุนุฉ ูุดุฑูุฉ ูุญุฏุฏุฉ
npm run audit:comprehensive <company-id>
```

**ูุซุงู:**
```bash
npm run audit:comprehensive
# ุฃู
npm run audit:comprehensive 123e4567-e89b-12d3-a456-426614174000
```

### ุงูุทุฑููุฉ 2: ุงุณุชุฎุฏุงู Supabase SQL Editor

1. **ูุชุญ Supabase Dashboard**
   - ุงูุฏุฎูู ุฅูู ุงููุดุฑูุน
   - Database โ SQL Editor

2. **ูุชุญ ููู SQL**
   - ูุชุญ ุงูููู: `scripts/COMPREHENSIVE_ACCOUNTING_AUDIT.sql`
   - ูุณุฎ ูุญุชูู ุงูููู ูุงููุงู

3. **ุชูููุฐ ูู SQL Editor**
   - ูุตู ุงููุญุชูู ูู SQL Editor
   - ุงูุถุบุท ุนูู **Run**
   - ูุฑุงุฌุนุฉ ุงููุชุงุฆุฌ

**ููุงุญุธุฉ:** ูููู ุชูููุฐ ุงูุงุณุชุนูุงูุงุช ุจุดูู ูููุตู ุญุณุจ ุงูุญุงุฌุฉ.

---

## ๐ ุฃูุณุงู ุงููุฑุงุฌุนุฉ

### 1๏ธโฃ ุงููุฑุงุฌุนุฉ ุงููุญุงุณุจูุฉ ุงูุดุงููุฉ

#### ุฃ. ุงูุชุญูู ูู ุงููููุฏ ุงููุญุงุณุจูุฉ

**1.1 - ุงููููุฏ ุบูุฑ ุงููุชูุงุฒูุฉ**
- ูุชุญูู ูู ุฃู ูู ููุฏ ูุฒุฏูุฌ ูุชูุงุฒู (ูุฌููุน ุงููุฏูู = ูุฌููุน ุงูุฏุงุฆู)
- ูุนุฑุถ ุงููููุฏ ุงูุชู ุจูุง ูุฑููุงุช ุฃูุจุฑ ูู 0.01

**1.2 - ุงูููุงุชูุฑ ุจุฏูู ูููุฏ ูุญุงุณุจูุฉ**
- ูุชุญูู ูู ุฃู ูู ูุงุชูุฑุฉ (sent, paid, partially_paid) ููุง ููุฏ ูุญุงุณุจู ูุฑุชุจุท
- ูุนุฑุถ ุงูููุงุชูุฑ ุงูุชู ูุง ุชุญุชูู ุนูู ูููุฏ

**1.3 - ููุงุชูุฑ ุงูุดุฑุงุก ุจุฏูู ูููุฏ**
- ูุชุญูู ูู ุฃู ูู ูุงุชูุฑุฉ ุดุฑุงุก (bill) ููุง ููุฏ ูุญุงุณุจู

**1.4 - ุงููุฏููุนุงุช ุจุฏูู ูููุฏ**
- ูุชุญูู ูู ุฃู ูู ุฏูุนุฉ ููุง ููุฏ ูุญุงุณุจู ูุฑุชุจุท

**1.5 - ูููุฏ ุงูุฅููุงู ูุงูุงุณุชููุงู**
- ูุชุญูู ูู ูููุฏ ุงูุฅููุงู ูุงูุชุฃูุฏ ูู ุชุทุงุจููุง ูุน ุงูููุงุนุฏ ุงููุญุงุณุจูุฉ

#### ุจ. ูุฑุงุฌุนุฉ ุงูุญุณุงุจุงุช

**1.6 - ุฃุฑุตุฏุฉ ุงูุนููุงุก**
- ููุงุฑูุฉ ุฃุฑุตุฏุฉ ุงูุนููุงุก ูู ุงูููุงุชูุฑ ูุน ุฃุฑุตุฏุฉ ุงููููุฏ ุงููุญุงุณุจูุฉ (AR)
- ูุนุฑุถ ุงูุนููุงุก ุงูุฐูู ูุฏููู ูุฑููุงุช

**1.7 - ุฃุฑุตุฏุฉ ุงูููุฑุฏูู**
- ููุงุฑูุฉ ุฃุฑุตุฏุฉ ุงูููุฑุฏูู ูู ููุงุชูุฑ ุงูุดุฑุงุก ูุน ุฃุฑุตุฏุฉ ุงููููุฏ ุงููุญุงุณุจูุฉ (AP)
- ูุนุฑุถ ุงูููุฑุฏูู ุงูุฐูู ูุฏููู ูุฑููุงุช

**1.8 - ุงูุญุณุงุจุงุช ุงูุจูููุฉ ูุงูููุฏูุฉ**
- ููุงุฑูุฉ ุฃุฑุตุฏุฉ ุงูุญุณุงุจุงุช ุงูุจูููุฉ ูุงูููุฏูุฉ ูุน ุงููููุฏ ุงููุญุงุณุจูุฉ
- ูุนุฑุถ ุงูุญุณุงุจุงุช ุงูุชู ุจูุง ูุฑููุงุช

#### ุฌ. ุชุทุงุจู ูุน Zoho Books

**1.9 - ุชุตููู ุงูุญุณุงุจุงุช**
- ูุชุญูู ูู ุฃู ุชุตููู ุงูุญุณุงุจุงุช ูุดุงุจู ูุชุตููู Zoho
  - Assets (ุงูุฃุตูู)
  - Liabilities (ุงูุงูุชุฒุงูุงุช)
  - Equity (ุญููู ุงูููููุฉ)
  - Income (ุงูุฅูุฑุงุฏุงุช)
  - Expenses (ุงููุตุฑููุงุช)

**1.10 - ุงูุฅูุฑุงุฏุงุช ูุงููุตุฑููุงุช**
- ูุชุญูู ูู ุฃู ุงูุฅูุฑุงุฏุงุช ูุงููุตุฑููุงุช ูุณุฌูุฉ ุจุฏูุฉ

**1.11 - ุงูุดุญู ูุงูุถุฑุงุฆุจ ูุงูุฎุตููุงุช**
- ูุชุญูู ูู ุฃู ุงูุดุญูุ ุงูุถุฑุงุฆุจุ ุงูุฎุตููุงุช ูุญุณูุจุฉ ููุณุฌูุฉ ุจุฏูุฉ

---

### 2๏ธโฃ ูุฑุงุฌุนุฉ ูุงุนุฏุฉ ุงูุจูุงูุงุช

#### ุฃ. ุชูุงูู ุงูุจูุงูุงุช

**2.1 - ุนููุงุก ููุฑุฑูู**
- ูุชุญูู ูู ุนุฏู ูุฌูุฏ ุณุฌูุงุช ููุฑุฑุฉ ูู ุงูุนููุงุก (ููุณ ุงูุงุณู ูุงูุจุฑูุฏ ุงูุฅููุชุฑููู)

**2.2 - ููุฑุฏูู ููุฑุฑูู**
- ูุชุญูู ูู ุนุฏู ูุฌูุฏ ุณุฌูุงุช ููุฑุฑุฉ ูู ุงูููุฑุฏูู

**2.3 - ููุงุชูุฑ ููุฑุฑุฉ**
- ูุชุญูู ูู ุนุฏู ูุฌูุฏ ููุงุชูุฑ ููุฑุฑุฉ (ููุณ ุฑูู ุงููุงุชูุฑุฉ)

**2.4 - ูููุฏ ุจุฏูู ุชุงุฑูุฎ**
- ูุนุฑุถ ุงููููุฏ ุงูุชู ูุง ุชุญุชูู ุนูู ุชุงุฑูุฎ

**2.5 - ูููุฏ ุจุฏูู ุณุทูุฑ**
- ูุนุฑุถ ุงููููุฏ ุงูุชู ูุง ุชุญุชูู ุนูู ุณุทูุฑ (ุจุฏูู ุญุณุงุจ ูุฑุชุจุท)

**2.6 - ุณุทูุฑ ูููุฏ ุจุญุณุงุจุงุช ุบูุฑ ููุฌูุฏุฉ**
- ูุนุฑุถ ุณุทูุฑ ุงููููุฏ ุงูุชู ุชุดูุฑ ุฅูู ุญุณุงุจุงุช ูุญุฐููุฉ ุฃู ุบูุฑ ููุฌูุฏุฉ

#### ุจ. ุงูุงุชุณุงู ุงูุฏุงุฎูู

**2.8 - ุฃุฑุตุฏุฉ ุงูุญุณุงุจุงุช ููุงุจู ุงููููุฏ**
- ููุงุฑูุฉ ุฃุฑุตุฏุฉ ุงูุญุณุงุจุงุช ุงููุญุณูุจุฉ ูู ุงููููุฏ ูุน ุงูุฃุฑุตุฏุฉ ุงููุฎุฒูุฉ

#### ุฌ. ุงูุชุญูู ูู ุฃููุงุน ุงูุจูุงูุงุช

**2.9 - ุฏูุฉ ุงููุจุงูุบ ุงููุงููุฉ**
- ูุชุญูู ูู ุฃู ุงููุจุงูุบ ุงููุงููุฉ ูุณุฌูุฉ ุจุดูู ุตุญูุญ (decimal/float)
- ูุชุญูู ูู ุนุฏู ูุฌูุฏ ููู ุณุงูุจุฉ ุบูุฑ ูุณููุญุฉ
- ูุชุญูู ูู ุนุฏู ูุฌูุฏ ููู ุชุชุฌุงูุฒ ุงูุญุฏ ุงูุฃูุตู

**2.10 - ุงูุชูุงุฑูุฎ ูุงูุฃููุงุช**
- ูุชุญูู ูู ุฃู ุงูุชูุงุฑูุฎ ูุชุณูุฉ (ูุง ุชูุงุฑูุฎ ูุณุชูุจููุฉ ุบูุฑ ููุทููุฉุ ูุง ุชูุงุฑูุฎ ูุฏููุฉ ุฌุฏุงู)

---

### 4๏ธโฃ ุฎุทูุงุช ุนูููุฉ ููุชุญูู ุงูููุงุฆู

**4.1 - ุชูุฑูุฑ ุงูุชุณููุฉ ุงูุดุงูู**
- ุชูุฑูุฑ ุดุงูู ููู ุงูุญุณุงุจุงุช ุญุณุจ ุงูููุน

**4.2 - ุฃุฑุตุฏุฉ ุฑุฆูุณูุฉ**
- ุฃุฑุตุฏุฉ ุงูุนููุงุก (AR)
- ุฃุฑุตุฏุฉ ุงูููุฑุฏูู (AP)
- ุฃุฑุตุฏุฉ ุงูุจูู
- ุฃุฑุตุฏุฉ ุงูููุฏูุฉ
- ุฃุฑุตุฏุฉ ุงููุฎุฒูู

**4.3 - ูุฑุงุฌุนุฉ ุงููููุฏ**
- ุฅุญุตุงุฆูุงุช ุงููููุฏ ุญุณุจ ุงูููุน
- ุงููููุฏ ุงููุฏููุฉ ูุงูุฌุฏูุฏุฉ
- ูููุฏ ุงูุชุณููุฉ (Adjustments)

**4.4 - ุงูููุฒุงููุฉ ุงูุนููููุฉ (Balance Sheet)**
- ุงูุฃุตูู (Assets)
- ุงูุงูุชุฒุงูุงุช (Liabilities)
- ุญููู ุงูููููุฉ (Equity)
- ุงููุฑู ูู ุงูููุฒุงููุฉ

**4.5 - ูุงุฆูุฉ ุงูุฏุฎู (P&L)**
- ุงูุฅูุฑุงุฏุงุช (Income)
- ุงููุตุฑููุงุช (Expenses)
- ุตุงูู ุงูุฑุจุญ/ุงูุฎุณุงุฑุฉ

**4.6 - ุงูููุฎุต ุงูุดุงูู**
- ุฅุญุตุงุฆูุงุช ุนุงูุฉ
- ุนุฏุฏ ุงููุดุงูู ุงูููุชุดูุฉ
- ุงูุชูุตูุงุช

---

## ๐ ูุฑุงุกุฉ ุงูุชูุงุฑูุฑ

### ุชูุฑูุฑ JSON

ุจุนุฏ ุงูุชูููุฐุ ุณูุชู ุฅูุดุงุก ููู `AUDIT_REPORT_YYYY-MM-DD.json` ูุญุชูู ุนูู:

```json
{
  "timestamp": "2025-01-XX...",
  "company_id": "all" | "<company-id>",
  "sections": {
    "unbalanced_entries": {
      "error": null,
      "data": [...]
    },
    "invoices_without_entries": {
      "error": null,
      "data": [...]
    },
    ...
  }
}
```

### ุชูุฑูุฑ ูุตู

ุณูุชู ุฃูุถุงู ุฅูุดุงุก ููู `AUDIT_REPORT_YYYY-MM-DD.txt` ูุญุชูู ุนูู:

- ููุฎุต ุงูุฅุญุตุงุฆูุงุช
- ุชูุงุตูู ุงููุดุงูู ุงูููุชุดูุฉ
- ุงูุชูุตูุงุช

---

## ๐ง ุญู ุงููุดุงูู

### ูุดููุฉ: ุฎุทุฃ ูู ุงูุงุชุตุงู ุจูุงุนุฏุฉ ุงูุจูุงูุงุช

**ุงูุญู:**
1. ุชุฃูุฏ ูู ุตุญุฉ `NEXT_PUBLIC_SUPABASE_URL`
2. ุชุฃูุฏ ูู ุตุญุฉ `SUPABASE_SERVICE_ROLE_KEY`
3. ุชุฃูุฏ ูู ุฃู Service Role Key ูุฏูู ุงูุตูุงุญูุงุช ุงููุทููุจุฉ

### ูุดููุฉ: ุงุณุชุนูุงูุงุช SQL ุทูููุฉ

**ุงูุญู:**
- ุงุณุชุฎุฏู Supabase SQL Editor ูุจุงุดุฑุฉ
- ูู ุจุชูุณูู ุงูุงุณุชุนูุงูุงุช ุงููุจูุฑุฉ ุฅูู ุฃุฌุฒุงุก ุฃุตุบุฑ

### ูุดููุฉ: ูุชุงุฆุฌ ุบูุฑ ูุชููุนุฉ

**ุงูุญู:**
1. ุฑุงุฌุน ุณุฌูุงุช ุงูุฃุฎุทุงุก ูู ุงูุชูุฑูุฑ
2. ุชุญูู ูู ุงูุจูุงูุงุช ุงููุนููุฉ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
3. ุฑุงุฌุน ุงููููุฏ ุงููุญุงุณุจูุฉ ูุฏููุงู

---

## ๐ ููุงุญุธุงุช ูููุฉ

1. **ุงููุงูุด ุงููุณููุญ**: ุงููุฑููุงุช ุงูุตุบูุฑุฉ (ุฃูู ูู 0.01) ุชุนุชุจุฑ ููุจููุฉ ุจุณุจุจ ุฃุฎุทุงุก ุงูุชูุฑูุจ

2. **ุงููููุฏ ุงููุคูุชุฉ**: ุงููููุฏ ุงูุชู ุชุญุชูู ุนูู ุณุทุฑ ูุงุญุฏ ููุท ูุฏ ุชุธูุฑ ูุบูุฑ ูุชูุงุฒูุฉ ูุคูุชุงู (ุณูุชู ุฅุถุงูุฉ ุงูุณุทุฑ ุงูุซุงูู ูุฑูุจุงู)

3. **ุงูุฃุฏุงุก**: ุงููุฑุงุฌุนุฉ ุงููุงููุฉ ูุฏ ุชุณุชุบุฑู ููุชุงู ุทูููุงู ุนูู ููุงุนุฏ ุงูุจูุงูุงุช ุงููุจูุฑุฉ

4. **ุงููุณุฎ ุงูุงุญุชูุงุทู**: ูููุตุญ ุจุนูู ูุณุฎุฉ ุงุญุชูุงุทูุฉ ูุจู ุชูููุฐ ุฃู ุฅุตูุงุญุงุช

---

## ๐ฏ ุงูุฎุทูุงุช ุงูุชุงููุฉ

ุจุนุฏ ุชูููุฐ ุงููุฑุงุฌุนุฉ:

1. **ูุฑุงุฌุนุฉ ุงูุชูุฑูุฑ**: ุฑุงุฌุน ุฌููุน ุงููุดุงูู ุงูููุชุดูุฉ
2. **ุชุญุฏูุฏ ุงูุฃููููุงุช**: ุญุฏุฏ ุงููุดุงูู ุงูุญุฑุฌุฉ ุงูุชู ุชุญุชุงุฌ ุฅุตูุงุญ ููุฑู
3. **ุฅูุดุงุก ุฎุทุฉ ุงูุฅุตูุงุญ**: ุฎุทุท ูุฅุตูุงุญ ุงููุดุงูู ุงูููุชุดูุฉ
4. **ุชูููุฐ ุงูุฅุตูุงุญุงุช**: ุงุณุชุฎุฏู ูููุฏ ุงูุชุณููุฉ (Adjustment Entries) ูุฅุตูุงุญ ุงููุดุงูู
5. **ุฅุนุงุฏุฉ ุงููุฑุงุฌุนุฉ**: ุจุนุฏ ุงูุฅุตูุงุญุงุชุ ูู ุจุฅุนุงุฏุฉ ุงููุฑุงุฌุนุฉ ููุชุญูู ูู ุงูุญู

---

## ๐ ุงูุฏุนู

ุฅุฐุง ูุงุฌูุช ุฃู ูุดุงูู ุฃู ูุฏูู ุฃุณุฆูุฉ:

1. ุฑุงุฌุน ูููุงุช ุงููุฑุงุฌุนุฉ ุงูุณุงุจูุฉ ูู ุงููุดุฑูุน
2. ุฑุงุฌุน ุงููุซุงุฆู ุงููุญุงุณุจูุฉ ูู `docs/`
3. ุฑุงุฌุน ุณูุฑุจุชุงุช SQL ุงูุฃุฎุฑู ูู `scripts/`

---

**ุขุฎุฑ ุชุญุฏูุซ:** 2025-01-XX

